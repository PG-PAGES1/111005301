window.__require=function e(t,n,o){function i(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){return i(t[s][1][e]||e)},p,p.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Banner111005301:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return i(t,e),t.prototype.setNodeBanner=function(e){this.p_nodeBanner.active=e},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().raiseEvent("EVENT_SLOT_BANNER_SETINFO",0),this.p_nodeBanner.getChildByName("banner").scale=.7},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this)},a([c(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([r],t)}(slot.SlotBanner);n.default=l,cc._RF.pop()},{}],BonusGame111005301:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../GameEventName111005301"),r=e("../NumAtlasLabel111005301"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.log("11111111111111111111111111111111111")},t.prototype.onLoad=function(){cc.log("===\u5c0f\u6e38\u620f onload"),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_FLUSH_GAME_DATA,this.upGameData,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_FALLOVER,this.onFallOver,this)},t.prototype.onDestroy1=function(){cc.log("===\u5c0f\u6e38\u620f onDestroy"),this.idArr=[],this.typeArr=[],game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_FLUSH_GAME_DATA,this.upGameData,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_FALLOVER,this.onFallOver,this)},t.prototype.upGameData=function(e,t){this.curr_prto=t},t.prototype.lgDataResp=function(e,t){cc.log("===\u5c0f\u6e38\u620f lgDataResp:",t),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_FLY)},t.prototype.onFallOver=function(){this.operate([1]),cc.log("\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e86\u6570\u636e")},t.prototype.lgActionResp=function(e,t){var n=this;cc.log("===\u5c0f\u6e38\u620f lgActionResp",t),cc.log("\u5269\u4f59\u6b21\u6570 = "+t.state.freeData.times),this.onFreeTimes(t.reward.reward[0].number.low,t.times),0==t.state.freeData.times&&this.scheduleOnce(function(){n.next(),n.onClose()},3),this.next()},t.prototype.onFreeTimes=function(e){var t=slot.MainView.instance.getEffectLayer().getChildByName("redPack");t.getComponent(sp.Skeleton).setAnimation(0,"a_fadein",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"a_fadein"==t.getComponent(sp.Skeleton).animation&&(t.getComponent(sp.Skeleton).setAnimation(0,"a_fadeout",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"a_fadeout"==t.getComponent(sp.Skeleton).animation&&t.removeFromParent()}))});var n=this.node.getChildByName("freeTimsTips");this.scheduleOnce(function(){n.active=!0},1),cc.find("layout/times",n).getComponent(r.default).string=""+e,cc.tween(n).to(.8,{scale:.8}).delay(1).to(.2,{scale:1.2}).to(.5,{scale:1}).to(.2,{scale:0}).call(function(){n.active=!1}).start(),this.scheduleOnce(function(){},1.5)},t.prototype.onClose=function(){cc.log("\u5c0f\u6e38\u620f \u5f39\u7a97\u5173\u95ed"),this.onDestroy1()},a([l],t)}(slot.AbstractBonusGameView));n.default=p,cc._RF.pop()},{"../GameEventName111005301":"GameEventName111005301","../NumAtlasLabel111005301":"NumAtlasLabel111005301"}],Cannon:[function(e,t,n){"use strict";cc._RF.push(t,"b8e22cy9mZJGLnGTzwLNW/t","Cannon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeNumAn=null,t.p_nodeNumLiang=null,t.p_nodeLiang=null,t.p_nodeSprShanGuang=null,t.m_anCommonNumAtlas=null,t.m_liangCommonNumAtlas=null,t.m_isLiang=!1,t}return i(t,e),t.prototype.onLoad=function(){this.m_anCommonNumAtlas=this.p_nodeNumAn.getComponent("CommonNumAtlas111005301"),this.m_liangCommonNumAtlas=this.p_nodeNumLiang.getComponent("CommonNumAtlas111005301")},t.prototype.init=function(){this.p_nodeNumAn.active=!0,this.p_nodeNumLiang.active=!1,this.p_nodeSprShanGuang.active=!1,this.m_anCommonNumAtlas.string="",this.m_liangCommonNumAtlas.string="",this.node.scale=1},t.prototype.setOnline=function(e,t){void 0===t&&(t=!1),this.p_nodeLiang.active=e,this.m_isLiang=e,t?this.node.scale=e?1.1:1:this.playAction()},t.prototype.playAction=function(){1==this.m_isLiang?this.playLight():this.playDark()},t.prototype.playLight=function(){var e=this;this.p_nodeSprShanGuang.active=!0,this.p_nodeSprShanGuang.scale=.5,cc.tween(this.p_nodeSprShanGuang).to(.3,{scale:.8}).call(function(){e.p_nodeSprShanGuang.active=!1}).start();var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.callFunc(function(){e.p_nodeNumAn.active=!1,e.p_nodeLiang.active=!0}),cc.scaleTo(.1,1.1,1.1));this.node.runAction(t)},t.prototype.playDark=function(){var e=this,t=cc.sequence(cc.scaleTo(.2,1,1),cc.callFunc(function(){e.p_nodeNumAn.active=!0,e.p_nodeLiang.active=!1}));this.node.runAction(t)},t.prototype.setCommonNum=function(e){this.m_anCommonNumAtlas.string="x"+e,this.m_liangCommonNumAtlas.string="x"+e},t.prototype.start=function(){},a([c(cc.Node)],t.prototype,"p_nodeNumAn",void 0),a([c(cc.Node)],t.prototype,"p_nodeNumLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeSprShanGuang",void 0),a([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Coin:[function(e,t,n){"use strict";cc._RF.push(t,"b9adbATXnhLtZfGhB44WFN8","Coin");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.randomAngle=0,t.randomAnimonIndex=0,t.seed=5,t}return i(t,e),t.prototype.onLoad=function(){var e=(new Date).getTime();this.seed=e%1e3,this.randomAngle=this.getRandomNumber(0,359),this.randomAnimonIndex=this.getRandomNumber(0,4),this.node.angle=this.randomAngle;var t="coin"+(Math.round(this.randomAnimonIndex)+1);this.getComponent(cc.Animation).play(t)},t.prototype.getRandomNumber=function(e,t){return t=t||1,e=e||0,this.seed=(9301*this.seed+49297)%233280,e+this.seed/233280*(t-e)},t.prototype.start=function(){},a([r],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],CommonNumAtlas111005301:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([r],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FallLeaf111005301:[function(e,t,n){"use strict";cc._RF.push(t,"5f867ABkgFHApE85zwHfqdB","FallLeaf111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minY=-200,t.speed=1,t.index=0,t.angleStep=1,t}return i(t,e),t.prototype.setPoolCtr=function(e){this.pool=e},t.prototype.onEnable=function(){this.angle=360*Math.random(),this.index=0,this.node.angle=this.angle,this.angleStep=Math.random()>=.5?1:-1},t.prototype.update=function(){this.node.y-=this.speed,this.node.angle+=this.angleStep,this.node.y<=this.minY&&(this.node.removeFromParent(),this.pool.put(this.node))},a([r],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],FreeGameResult111005301:[function(e,t,n){"use strict";cc._RF.push(t,"528b6iKN6pMeau72wu1ln1y","FreeGameResult111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../NumAtlasLabel111005301"),r=e("../GameEventName111005301"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.info=null,t.button=null,t.redPack=null,t.label=null,t.mask=null,t.callBack=null,t.closeTween=null,t.numTween=null,t.win=0,t._winMoney=0,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];cc.log("=====onOpen"),slot.SoundMger.instance.playMusic(r.SOUND_NAME.free_spin_red_packet_after_effects,!1),this.node.active=!0,this.callBack=n[0][0],this.win=n[0][1];var i=n[0][1];this.mIsAutoModeFree=n[0][2],this.winMoney=0,this.numTween=cc.tween(this).to(.5,{winMoney:i}).start(),this.button.active=!1,this.button.on("click",this.onClickButtonNode,this),this.button.on(cc.Node.EventType.MOUSE_ENTER,this.hoverHandler,this),this.button.on(cc.Node.EventType.MOUSE_LEAVE,this.leaveHandler,this),this.closeTween&&this.closeTween.stop(),this.closeTween=cc.tween(this).delay(6).call(function(){t.onClickButtonNode()}).start(),this.info.opacity=0,cc.tween(this.info).delay(.5).to(.2,{opacity:255}).call(function(){t.button.active=!0,t.node.getChildByName("freeshuyeparticle").active=!0,t.node.getChildByName("freeshuyeparticle").getComponent(cc.ParticleSystem).resetSystem(),t.node.getChildByName("freeshuyeparticle").getComponent(cc.ParticleSystem).duration=1}).start(),this.button.active=!1,cc.tween(this.mask).to(.5,{opacity:150}).call(function(){}).start(),this.eff=this.button.getChildByName("effect"),this.eff.active=this.mIsAutoModeFree;var a=this.redPack.getComponent(sp.Skeleton);a.setAnimation(0,"fadein",!1),a.setCompleteListener(function(){"fadein"==a.animation&&a.setAnimation(0,"loop",!0)})},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.label.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),e==this.win&&(slot.SoundMger.instance.playEffect(r.SOUND_NAME.free_spin_total_win,!1),this.button.active=!0,this.button.scale=.2,cc.tween(this.button).to(.3,{scale:1}).start())},enumerable:!1,configurable:!0}),t.prototype.hoverHandler=function(){this.mIsAutoModeFree||(this.eff.active=!0)},t.prototype.leaveHandler=function(){this.mIsAutoModeFree||(this.eff.active=!1)},t.prototype.onClickButtonNode=function(){cc.log("=====\u5173\u95edonClickButtonNode"),game.UIManager.getInstance().close(this),game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_OVER)},t.prototype.onClose=function(){cc.log("=====\u5173\u95edonClose"),this.node.active=!1,this.closeTween&&this.closeTween.stop(),this.closeTween=null,this.callBack&&this.callBack.run(),this.button.off("click",this.onClickButtonNode,this),this.button.off(cc.Node.EventType.MOUSE_ENTER,this.hoverHandler,this),this.button.off(cc.Node.EventType.MOUSE_LEAVE,this.leaveHandler,this)},a([p(cc.Node)],t.prototype,"info",void 0),a([p(cc.Node)],t.prototype,"button",void 0),a([p(cc.Node)],t.prototype,"redPack",void 0),a([p(cc.Node)],t.prototype,"label",void 0),a([p(cc.Node)],t.prototype,"mask",void 0),a([l],t)}(game.UIView);n.default=h,cc._RF.pop()},{"../GameEventName111005301":"GameEventName111005301","../NumAtlasLabel111005301":"NumAtlasLabel111005301"}],FreegameNumLabel111005301:[function(e,t,n){"use strict";cc._RF.push(t,"78915pdL9RNELGO4eLdTscs","FreegameNumLabel111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([r],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],GameBg111005301:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../GameEventName111005301"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_OPEN_LIZI_AIN,this._open_lizi_texiao,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_CLOSE_LIZI_AIN,this._close_lizi_texiao,this)},t.prototype._onFreeGameStart=function(){var e=this;this.scheduleOnce(function(){cc.tween(e.node.getChildByName("bgFree")).to(.5,{opacity:255}).call(function(){}).start(),cc.tween(e.node.getChildByName("bg1")).to(.5,{opacity:0}).call(function(){}).start(),slot.SoundMger.instance.stopMusic("Game_Back_Music",!0),slot.SoundMger.instance.playMusic("Free_Start_Sound",!0)},1)},t.prototype._onFreeGameOver=function(){cc.tween(this.node.getChildByName("bgFree")).to(.5,{opacity:0}).call(function(){}).start(),cc.tween(this.node.getChildByName("bg1")).to(.5,{opacity:255}).call(function(){}).start()},t.prototype._open_lizi_texiao=function(){},t.prototype._close_lizi_texiao=function(){},t.prototype._updateFreeGameNum=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_OPEN_LIZI_AIN,this._open_lizi_texiao,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_CLOSE_LIZI_AIN,this._close_lizi_texiao,this)},a([c],t)}(slot.BaseView));n.default=l,cc._RF.pop()},{"../GameEventName111005301":"GameEventName111005301"}],GameEventName111005301:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111005301"),Object.defineProperty(n,"__esModule",{value:!0}),n.SOUND_NAME=n.TREE_ANIMATION_TYPE=n.RoleAniType=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",e.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",e.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",e.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_PLAY_WIN_NUM="EVENT_PLAY_WIN_NUM",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",e.START_REPLACE="START_REPLACE",e.UPDATE_GRIDE="UPDATE_GRIDE",e.EVENT_CLEAR_SHEET="EVENT_CLEAR_SHEET",e.EVENT_INIT_FREE_COUNt="EVENT_INIT_FREE_COUNt",e.EVENT_FLUSH_MAIN_BG="EVENT_FLUSH_MAIN_BG",e.EVENT_FLUSH_CURR_SORCE="EVENT_FLUSH_CURR_SORCE",e.EVENT_REMOVE_ALL_NODE="EVENT_REMOVE_ALL_NODE",e.EVENT_CLEAR_FREE_GAME_VIEW="EVENT_CLEAR_FREE_GAME_VIEW",e.EVENT_FLUSH_GAME_DATA="EVENT_FLUSH_GAME_DATA",e.EVENT_DAJIANG_END_SORCE_SHOW="EVENT_DAJIANG_END_SORCE_SHOW",e.EVENT_IS_NO_ENTER_ROOM="EVENT_IS_NO_ENTER_ROOM",e.EVENT_SET_TOTAL_SORCE="EVENT_SET_TOTAL_SORCE",e.EVENT_OPEN_GUNZHOU_LAYOUT="EVENT_OPEN_GUNZHOU_LAYOUT",e.EVENT_CLOSE_GUNZHOU_LAYOUT="EVENT_CLOSE_GUNZHOU_LAYOUT",e.EVENT_OPEN_LIZI_AIN="EVENT_OPEN_LIZI_AIN",e.EVENT_CLOSE_LIZI_AIN="EVENT_CLOSE_LIZI_AIN",e.EVENT_SET_GUNZHOU_SOUND="EVENT_SET_GUNZHOU_SOUND",e.EVENT_CLEAR_SCORE="EVENT_CLEAR_SCORE",e.EVENT_COMPLAY_SHOOT="EVENT_COMPLAY_SHOOT",e.EVENT_CLOSE_GUNZHOU_SOUND="EVENT_CLOSE_GUNZHOU_SOUND",e.EVENT_GUNZHOU_END_EVENT="EVENT_GUNZHOU_END_EVENT",e.EVENT_UPDATEANIMATION="EVENT_UPDATEANIMATION",e.EVENT_FLY="EVENT_FLY",e.EVENT_FALLOVER="EVENT_FALLOVER",e.EVENT_SCATTER="EVENT_SCATTER",e.EVENT_GOODLUCK="EVENT_GOODLUCK",e.EVENT_GOODLUCK_END="EVENT_GOODLUCK_END",e.EVENT_GOODLUCK_ANIM="EVENT_GOODLUCK_ANIM"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.Random=1]="Random",e[e.Multiplier=2]="Multiplier",e[e.WinMedium=3]="WinMedium",e[e.WinSmall=4]="WinSmall",e[e.FastSpinIdle=5]="FastSpinIdle",e[e.SheetRight=6]="SheetRight",e[e.LAGONG=7]="LAGONG"}(n.RoleAniType||(n.RoleAniType={})),function(e){e[e.IDEL=1]="IDEL",e[e.DANCE=2]="DANCE",e[e.SCATTER=3]="SCATTER",e[e.CLEAR_SCATTER=4]="CLEAR_SCATTER"}(n.TREE_ANIMATION_TYPE||(n.TREE_ANIMATION_TYPE={})),function(e){e.Game_Back_loop_Music="Game_Back_loop_Music",e.Game_Back_Music="Game_Back_Music",e.Game_Back_old_Music="Game_Back_old_Music",e.free_spin_bgm="free_spin_bgm",e.loading_bgm="loading_bgm",e.loading_logo_sfx="loading_logo_sfx",e.slider_effect="slider_effect",e.Currency_Button="Currency_Button",e.menu_icon_press="menu_icon_press",e.quick_stop="quick_stop",e.big_win_bgm="big_win_bgm",e.big_win_end="big_win_end",e.Prize_All="Prize_All",e.Prize_All_Stop="Prize_All_Stop",e.big_win_step="big_win_step",e.fast_spin="fast_spin",e.bezier_effect="bezier_effect",e.free_spin_red_packet_after_effects="free_spin_red_packet_after_effects",e.free_spin_red_packet_open="free_spin_red_packet_open",e.free_spin_red_packet_bezier="free_spin_red_packet_bezier",e.free_spin_total_win="free_spin_total_win",e.start_scroll="start_scroll",e.slot_end_scroll_01="slot_end_scroll_01",e.slot_end_scroll_02="slot_end_scroll_02",e.slot_end_scroll_03="slot_end_scroll_03",e.slot_end_scroll_04="slot_end_scroll_04",e.slot_end_scroll_05="slot_end_scroll_05",e.spin_button="spin_button",e.line_effect_small="line_effect_small",e.line_effect_medium="line_effect_medium",e.Five_Of_Kind="Five_Of_Kind",e.bonus_bgm="bonus_bgm",e.bonus_bgm_loop="bonus_bgm_loop",e.bonus_angpow_shuffle="bonus_angpow_shuffle",e.bonus_shake="bonus_shake",e.bonus_tree_shake_coin="bonus_tree_shake_coin",e.bonus_win_bounce="bonus_win_bounce",e.bonus_win_loop="bonus_win_loop",e.bonus_packet_open="bonus_packet_open",e.bonus_packet_shake="bonus_packet_shake",e.bonus_packet_appear="bonus_packet_appear",e.bonus_refill_reveal="bonus_refill_reveal",e.bonus_refill_anim="bonus_refill_anim",e.red_packet_charging="red_packet_charging",e.red_packet_open="red_packet_open",e.wallet_counting_above="wallet_counting_above",e.free_spin_red_packet_disappear="free_spin_red_packet_disappear",e.scatter_expand="scatter_expand",e.scatter_icon="scatter_icon",e.scatter_tree="scatter_tree",e.total_win_end="total_win_end",e.total_win_loop="total_win_loop",e.free_spin_red_packet_shoot_audio="free_spin_red_packet_shoot_audio.mp3"}(n.SOUND_NAME||(n.SOUND_NAME={})),cc._RF.pop()},{}],GameLayer111005301:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../GameEventName111005301"),r=e("../main/Main111005301"),c=e("./scrollerSkins/JTChildManager111005301"),l=e("./scrollerSkins/JTLayerManager111005301"),p=e("./scrollerSkins/JTLogicFactroy111005301"),h=e("../NumAtlasLabel111005301"),d=e("../Banner111005301"),u=e("../goldGame/RedPack"),f=e("../FallLeaf111005301"),_=(e("../TwScale111005301"),e("../RedpackAngleChange111005301")),m=cc._decorator,y=m.ccclass,g=m.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roller=null,t.redPack5Pos=[],t.redPack8Pos=[],t.fiveEvenNode=null,t.redPackOnTree=null,t.pGoldGame=null,t.pFreeGamePrefab=null,t.rolle_houyi_ani=null,t.node_ani=null,t.mLeaf=null,t.Rolle_houyi_ani=null,t.nScatterCount=0,t.flyAndExplosion=null,t.mStartTip=null,t.mTreeNode=null,t.redPackFallList=[],t.redPackFlyList=[],t.v2PosPointLight=null,t.freeTimes=0,t.pointLight=null,t.freeTimeFrame=null,t.startBtnParticle=null,t.gameID=0,t.frist_enter_gane=!0,t.isFirstLogin=!0,t.mClosedLoad=!1,t.rewardTimes=[],t.callBack=null,t.currScoreFrame=null,t.labShowWin=null,t.labShowTotalWin=null,t.scatterBorderbgII=null,t.scatterBorderbgIII=null,t.scatterBorderbgIV=null,t.mOnTreeRedpack={},t.mShowTreeRedpackFromLuckGame={},t.mBoomAnimPool=new cc.NodePool,t.leafPool=new cc.NodePool,t.mBigWinShowIndex=0,t.curr_gold=null,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.IS_NO_Ain=!1,t.mSctterIndex=0,t.isAddBigWinCoin=!0,t.dajiang_state=!1,t.get_data_cfg=[],t.change_gride_data_cfg=[],t.curr_prto=null,t._spinAniViews=[],t.cb_node=null,t.coinPos=[cc.v2(-314,9),cc.v2(107,373),cc.v2(-241,73),cc.v2(119,232),cc.v2(-281,250),cc.v2(-115,148),cc.v2(-170,260),cc.v2(-234,9),cc.v2(-137,532),cc.v2(213,391),cc.v2(251,221),cc.v2(-14,335),cc.v2(-230,229),cc.v2(6,166),cc.v2(-178,70),cc.v2(48,259),cc.v2(-163,202),cc.v2(281,355),cc.v2(132,519),cc.v2(337,118),cc.v2(284,53),cc.v2(-319,103),cc.v2(-24,486),cc.v2(-205,491),cc.v2(-99,487),cc.v2(-144,337),cc.v2(-130,421),cc.v2(-193,391),cc.v2(-255,332),cc.v2(-268,128),cc.v2(-322,308),cc.v2(337,194),cc.v2(-336,193),cc.v2(9,413),cc.v2(178,96),cc.v2(263,176),cc.v2(-266,423),cc.v2(-23,272),cc.v2(-274,9),cc.v2(24,564),cc.v2(200,299),cc.v2(158,366),cc.v2(-56,545),cc.v2(-72,272),cc.v2(152,449),cc.v2(-67,201),cc.v2(172,214),cc.v2(-56,385),cc.v2(69,511),cc.v2(84,434),cc.v2(276,135),cc.v2(172,156),cc.v2(71,201),cc.v2(99,103),cc.v2(197,37),cc.v2(51,355),cc.v2(110,298),cc.v2(-207,140),cc.v2(278,290),cc.v2(114,154)],t.shuffle=null,t.pCoin=null,t.redPack=null,t.bFallFlag=!1,t.bFallFlags={},t.mSpeeds=[],t.coins=[],t.toGround=[],t.groundTime=[],t.rv=[],t.time=0,t.pointY=-600,t.mIndex=0,t.leafClor=new cc.Color,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),console.log("game111005301 onload"),window.gamelayer=this,game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_CLEAR_FREE_GAME_VIEW,this.hideBounsGamePrefab,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().addEventListener("EVENT_CLICK_ELEMENT_VIEW",this.clickSlotItem,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.onRestoreEX,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.bigWinShow,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.hideWin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_LAST_HIDE,this.hideLastWin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CHANGE_WIN_TYPE,this.restWin,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_COMPLAY_SHOOT,this.tts,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_GOODLUCK,this.showBounsGameAgain,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onCloseLoadingViewUI,this),game.EventManager.getInstance().addEventListener("EVENT_TWEEN_PAY_TABLE",this.itemScaleTwAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.showPayItem,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinscore,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_STOP_WIN_NUM,this.showBanner,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_PLAY_WIN_NUM,this.hideBanner,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_GOODLUCK_END,this.goodLuckEnd,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_GOODLUCK_ANIM,this.goodLuckAnim,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.CHANGECOSTRESP,this.changeCostResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGDATARESP,this.goldGameResp_,this),this.v2PosPointLight=this.pointLight.getPosition(),this.currScoreFrame=cc.find("scrollerLayer/currScoreFrame",this.node),this.scatterBorderbgII=cc.find("scrollerLayer/scatter_bg_node/scatter_border_2",this.node),this.scatterBorderbgIII=cc.find("scrollerLayer/scatter_bg_node/scatter_border_3",this.node),this.scatterBorderbgIV=cc.find("scrollerLayer/scatter_bg_node/scatter_border_4",this.node),this.hideScatterBorderbg(),this.labShowWin=cc.find("labShowWin",this.node),this.labShowTotalWin=cc.find("totalescorenode",this.node),this.labShowWin.active=!1,this.labShowTotalWin.active=!1,this.showGrassEffect(),slot.SoundMger.instance.playEffect(s.SOUND_NAME.loading_bgm)},t.prototype.refreshRoom=function(){game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_IS_NO_ENTER_ROOM,!0)},t.prototype.onCloseLoadingViewUI=function(){slot.SoundMger.instance.stopMusic(s.SOUND_NAME.Game_Back_Music),slot.FreeGameManager.instance.hasFreeGame||slot.BonusGameManager.instance.hasBonusGame?slot.BonusGameManager.instance.hasBonusGame?(this.showBounsGamePrefab(0),this.scheduleOnce(function(){slot.SoundMger.instance.playMusic(s.SOUND_NAME.bonus_bgm_loop)})):slot.FreeGameManager.instance.hasFreeGame&&slot.SoundMger.instance.playMusic(s.SOUND_NAME.free_spin_bgm):slot.SoundMger.instance.playMusic(s.SOUND_NAME.Game_Back_Music),this.mClosedLoad=!0},t.prototype.itemScaleTwAni=function(){},t.prototype.showPayItem=function(e,t,n,o,i,a){var s=this,r=a.getChildByName("imageSk");if(this.unschedule(this.twNode),r){cc.Tween.stopAllByTarget(r);var c=.3;if(9!=t&&10!=t||(c=.6),r.scale=c,9==t||10==t){var l=this;r.getComponent(sp.Skeleton).setCompleteListener(function(){var e=r.getComponent(sp.Skeleton).animation;"yaoyiyao"!=e&&"baida"!=e||(l.mTwNode&&l.unschedule(l.twNode),l.mTwNode=r,l.mTwNode.scale=.55,l.schedule(l.twNode,2.01),s.twNode())})}}},t.prototype.twNode=function(){this.mTwNode.active||this.unschedule(this.twNode),cc.tween(this.mTwNode).to(1,{scale:.6}).to(1,{scale:.55}).start()},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_CLEAR_FREE_GAME_VIEW,this.hideBounsGamePrefab,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().removeEventListener("EVENT_CLICK_ELEMENT_VIEW",this.clickSlotItem,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.onRestoreEX,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.bigWinShow,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CHANGE_WIN_TYPE,this.restWin,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_COMPLAY_SHOOT,this.tts,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_GOODLUCK,this.showBounsGameAgain,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onCloseLoadingViewUI,this),game.EventManager.getInstance().removeEventListener("EVENT_TWEEN_PAY_TABLE",this.itemScaleTwAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.showPayItem,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinscore,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_STOP_WIN_NUM,this.showBanner,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_PLAY_WIN_NUM,this.hideBanner,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_GOODLUCK_ANIM,this.goodLuckAnim,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.CHANGECOSTRESP,this.changeCostResp,this)},t.prototype.showGrassEffect=function(){var e=cc.find("grass/grassfar1",this.node),t=cc.find("grass/grassfar2",this.node),n=cc.find("grass/grassfar3",this.node),o=cc.find("grass/grassfar4",this.node),i=cc.find("grassnear",this.node);cc.tween(e).to(.7,{skewX:13}).call(function(){e.runAction(cc.repeatForever(cc.sequence(cc.skewTo(1.4,-13,0),cc.skewTo(1.4,13,0))))}).start(),cc.tween(t).to(.9,{skewX:15}).call(function(){t.runAction(cc.repeatForever(cc.sequence(cc.skewTo(1.8,-15,0),cc.skewTo(1.8,15,0))))}).start(),cc.tween(n).to(.9,{skewX:13}).call(function(){n.runAction(cc.repeatForever(cc.sequence(cc.skewTo(1.4,-13,0),cc.skewTo(1.4,13,0))))}).start(),cc.tween(o).to(.7,{skewX:15}).call(function(){o.runAction(cc.repeatForever(cc.sequence(cc.skewTo(1.8,-15,0),cc.skewTo(1.8,15,0))))}).start(),cc.tween(i).to(1.1,{skewX:20}).call(function(){i.runAction(cc.repeatForever(cc.sequence(cc.skewTo(2.2,-20,0),cc.skewTo(2.2,20,0))))}).start()},t.prototype.tts=function(e,t){this.frist_enter_gane?(t.run(),this.frist_enter_gane=!1):(1==slot.SpinManager.instance.rollingResult.state?this.freeTimes=0:slot.SpinManager.instance.rollingResult.state,this.fly(t),this.redPackFlyList=[])},t.prototype.onRestoreEX=function(e,t){var n=this;this.isFirstLogin=!0,this.curr_gold=t.userInfo.balance.low,this.curr_prto=t;var o,i=t.state.normalData,a=0,s=[];i&&((a=i.sumSpinCoin.low)||(a=i.spinInfo.spinResult.spinCoin.low),a||(a=i.spinInfo.spinResult.lgCoin.low),i.spinInfo.spinResult.lgCoin.low>0&&(this.mOpenGoodLuck=!0),o=i.handleState.game_1110053.data.taskList,s=i.spinInfo.spinResult.grid),t.state.lgId&&(this.gameID=t.state.lgId.toNumber());var r=t.state.freeData,c=!1;r?(o||(o=r.handleState.game_1110053.data.taskList),a||(a=r.sumSpinCoin.low),a||(a=r.spinInfo.spinResult.spinCoin.low),s||(s=r.spinInfo.spinResult.grid),11100530101==this.gameID||this.gameID):this.gameID&&(c=!0),c?(cc.sys.localStorage.setItem(core.Global.gameId+"_openHashHelp",c),cc.sys.localStorage.setItem(core.Global.gameId+"_openHashHelpSlot",c)):(cc.sys.localStorage.removeItem(core.Global.gameId+"_openHashHelp"),cc.sys.localStorage.removeItem(core.Global.gameId+"_openHashHelpSlot"));for(var l=0;l<s.length;l++)9==s[l]&&this.nScatterCount++;if(this.nScatterCount>=3&&(this.nScatterCount=0,this.hideScatterBorderbg()),this.mOpenGoodLuck)this.nScatterCount=0,this.hideScatterBorderbg();else if(this.nScatterCount>0)for(l=1;l<=3;l++)this.hasScatterInCol(s,l)&&this.addScatterEffect(l);o&&this.refreshRedPackOnTheTree(o),this.showStartTip(!this.gameID),this.mStartTip.active&&this.hideBanner(),this.playIdelByScatter(this.nScatterCount),this.scheduleOnce(function(){n.showStartBtnParticle(!0)},3),this.changeRedpackIcon(2)},t.prototype.changeCostResp=function(e,t){this.isFirstLogin=!0,this.redPackFlyList=[],this.curr_prto=t;var n=t.normalData.handleState.game_1110053.data.taskList;n&&this.refreshRedPackOnTheTree(n);var o=t.normalData.spinInfo.spinResult.grid;this.nScatterCount=0;for(var i=0;i<o.length;i++)9==o[i]&&this.nScatterCount++;if(this.nScatterCount>=3&&(this.nScatterCount=0),this.playIdelByScatter(this.nScatterCount),this.mFailRedpackNode&&this.mFailRedpackNode.removeFromParent(),this.hideScatterBorderbg(),this.nScatterCount>0)for(var a=1;a<=3;a++)this.hasScatterInCol(o,a)&&this.addScatterEffect(a);for(var s=0;s<this.scroller.items.length;s++)for(var r=this.scroller.items[s],c=0;c<r.items.length;c++)r.items[c].clearSetOtherIconSt();this.changeRedpackIcon(1),this.showStartTip(!0)},t.prototype.showStartTip=function(e){this.mStartTip.active=e,e&&(this.hideBanner(),this.labShowWin.active=!1,this.labShowTotalWin.active=!1)},t.prototype.goldGameResp_=function(){this.mClosedLoad&&this.showBounsGamePrefab(0)},t.prototype.hasScatterInCol=function(e,t){for(var n=3*t,o=n;o<n+3;o++)if(9==e[o])return!0;return!1},t.prototype.changeRedpackIcon=function(e){var t=this;void 0===e&&(e=0),this.scroller&&this.scheduleOnce(function(){for(var e=0;e<t.scroller.items.length;e++)for(var n=t.scroller.items[e],o=0;o<n.items.length;o++)n.items[o].changeRedpackIcon()},e)},t.prototype.hideScatterBorderbg=function(){this.scatterBorderbgII.active=!1,this.scatterBorderbgIII.active=!1,this.scatterBorderbgIV.active=!1},t.prototype.start=function(){this.fiveEvenNode.active=!1},t.prototype.refreshRedPackOnTheTree=function(e){for(var t,n=e,o=0;o<n.length;o++){t=n[o];var i=this.mOnTreeRedpack[t.id];i||((i=cc.instantiate(this.redPackOnTree)).setAnchorPoint(cc.v2(.5,1)),i.angle=90,i.name="redPack",this.mOnTreeRedpack[t.id]=i,i.parent=this.getNodeByID(t.id),i.addComponent(_.default)),i.active=t.num>0,i.scale=this.getRedpackScale(t.num)}this.freshLeavesSt(this.nScatterCount)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),this.slotMachine.showLineInterval=1e3,console.log("oninit")},t.prototype.onInitScroller=function(e){var t=this.scroller=e.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);t.setupFactory(new l.default,new c.default,new p.default);var o=t.options(slot.JTScrollingPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,e.scrollingComplete);o.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),o.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),o.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),o.childOption(slot.JTOverScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1,this.getFreeSourceList),slot.JTDefaultItemRender.setPlayCoinIndex(2,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.config(9,[{index:1,id:9},{index:2,id:9}],"30-70-2",0,1e3,"animations/aniFrame/reel_light",!0,null,function(e){i.mSctterIndex++,console.log("vvvvvvvvvvvvvvvvv",i.mSctterIndex),i.mSctterIndex,e.skinLoader.active=!1,console.log("s.skinLoader.x=",e.skinLoader.x)},slot.JTScatterTask.APPOINT_MODE,[3],!1,!1),t.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer);var i=this;this.slotMachine.playRenderInterval=0,slot.MainView.instance.node.getChildByName("menu").getChildByName("openBtn").scale=.7,this.scatterTask.callScatterComplete=function(){}},t.prototype.clickSlotItem=function(){},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=150,this.slotMachine.gridHeight=530/3,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype.playPrizeAni=function(){console.log("*************************")},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0},t.getAllCell=function(){for(var e=[],t=0;t<60;t++){var n=slot.SlotMachineView.instance.scroller.getRenderByIndex(t);n&&e.push(n)}return e},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinBegin=function(){this.mIsNotMoney=slot.PlayerManager.instance.showCoin<slot.SpinManager.instance.betCost,this.hideScatterBorderbg(),this.mIsNotMoney?this.isFirstLogin=!0:(this.clearScatter(this.nScatterCount),this.nScatterCount=0,this.mIsNotMoney&&(this.redPackFlyList=[]),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_STOP_WIN_NUM),this.mStartTip.active&&(this.mStartTip.active=!1,game.EventManager.getInstance().raiseEvent("EVENT_SLOT_BANNER_SETINFO",0)),1==slot.GameControlBase.instance.fastBtnState?slot.SoundMger.instance.playEffect(s.SOUND_NAME.quick_stop,!1):(slot.SoundMger.instance.playEffect(s.SOUND_NAME.start_scroll,!1),slot.SoundMger.instance.playEffect(s.SOUND_NAME.spin_button,!1)),this.showStartBtnParticle(!1))},t.prototype._onSpinComplete=function(){if(console.log("=========\u6eda\u8f74\u7ed3\u675f"),null!=this.curr_prto)if(console.log("this.nScotterCount ="+this.nScatterCount),this.mIsNotMoney)this.nScatterCount=1;else{this.dance(this.nScatterCount+1,!0),this.freshLeavesSt(this.nScatterCount),1==this.mShowFastBg&&this.nScatterCount<3&&(this.scatterBorderbgIV.active=!1),this.mSctterIndex=0,this.mShowFastBg=!1;var e=this.getResultData().lineResult;if(e&&e.length){var t=this.mHasRedpack?1.6:0;this.scheduleOnce(function(){e.length>1?slot.SoundMger.instance.playEffect(s.SOUND_NAME.line_effect_medium):slot.SoundMger.instance.playEffect(s.SOUND_NAME.line_effect_small)},t)}this.showStartBtnParticle(!0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0)}},t.prototype.checkNeedFlyRedPack=function(){var e,t,n,o;this.redPackFlyList=null===(o=null===(n=null===(t=null===(e=this.curr_prto.updateList[0].value)||void 0===e?void 0:e.handleState)||void 0===t?void 0:t.game_1110053)||void 0===n?void 0:n.data)||void 0===o?void 0:o.posToRedPacket,this.redPackFlyList||(this.redPackFlyList=[]),this.mHasRedpack=this.redPackFlyList.length>0,this.redPackFallList=[];for(var i=0;i<this.redPackFlyList.length;i++)this.redPackFlyList[i].task.num>=5&&this.redPackFallList.push(this.redPackFlyList[i])},t.prototype.fly=function(e){for(var t=this.redPackFlyList.length,n=0;n<t;++n)this.AddRedPackSkeAffect(this.redPackFlyList[n].pos),this.AddExplosionAndFlyEffect(this.redPackFlyList[n].pos,this.redPackFlyList[n].task);var o=t>=1?.5:0;this.scheduleOnce(function(){e.run()},o)},t.prototype.dance=function(e,t){void 0===t&&(t=!1),1==e?this.playDance():2==e?this.playDanceII():3==e?this.playDanceIII():4==e&&this.playDanceIV(t)},t.prototype.scatter=function(e){1==e?this.playScatter():2==e?this.playScatterII():3==e&&this.playScatterIII(),this.freshLeavesSt(e)},t.prototype.clearScatter=function(e){1==e?this.playClearScatter():2==e?this.playClearScatterII():3==e&&this.playClearScatterIII(),this.freshLeavesSt(e)},t.prototype.freshLeavesSt=function(e){for(var t=e>=3,n=1;n<=5;++n){var o=this.redPack5Pos[n-1].getChildByName("redPack");if(o)for(var i=o.getChildByName("greenLeaves"),a=o.getChildByName("goldLeaves"),s=n%3,r=0;r<3;r++)i.getChildByName("leave"+r).active=!t&&s==r,a.getChildByName("leave"+r).active=t&&s==r}},t.prototype.AddRedPackSkeAffect=function(e){slot.SlotMachineView._instance.scroller.renders[e-1].playOnceRadPackAnim()},t.prototype.AddExplosionAndFlyEffect=function(e,t){var n=this,o=slot.MainView.instance.getEffectLayer(),i=slot.SlotMachineView._instance.scroller.renders[e-1],a=i.parent.convertToWorldSpaceAR(i.getPosition()),r=o.convertToNodeSpaceAR(a),c=this.mOnTreeRedpack[t.id];if(c){var l=c.parent.convertToWorldSpaceAR(c.getPosition()),p=o.convertToNodeSpaceAR(l);this.flyBoomAnim(r,p,function(){n.redPackGrowUp(t)},null,.3,.1,.5)}slot.SoundMger.instance.playEffect(s.SOUND_NAME.free_spin_red_packet_shoot_audio)},t.prototype.flyBoomAnim=function(e,t,n,o,i,a,s){var r=this;void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=.5),void 0===a&&(a=0),void 0===s&&(s=1);var c=this.mBoomAnimPool.get();c||(c=cc.instantiate(this.flyAndExplosion));var l=c.getChildByName("explosion"),p=l.getChildByName("fx_xingxing"),h=l.getChildByName("fx_kaijiang1");p.getComponent(cc.ParticleSystem).duration=s,h.getComponent(cc.ParticleSystem).duration=s,l.active=!1;var d=c.getChildByName("fly");d.active=!0,slot.MainView.instance.getEffectLayer().addChild(c),c.setPosition(e),cc.tween(c).delay(a).to(i,{x:t.x,y:t.y}).call(function(){d.active=!1,l.active=!0;var e=l.getChildByName("fx_xingxing"),t=l.getChildByName("fx_kaijiang1");e.getComponent(cc.ParticleSystem).resetSystem(),t.getComponent(cc.ParticleSystem).resetSystem(),n&&n()}).delay(1).call(function(){c.removeFromParent(),r.mBoomAnimPool.put(c),o&&o()}).start()},t.prototype.redPackGrowUp=function(e){var t=this.mOnTreeRedpack[e.id];if(t.active=e.num>0,t.active){this.freshLeavesSt(this.nScatterCount);var n=this.getRedpackScale(e.num);t.scale<n&&cc.tween(t).to(.2,{scale:1.3*n}).to(.2,{scale:n}).start()}},t.prototype.getRedpackScale=function(e){return.6+.2*e},t.prototype.fallRedPack=function(e,t){var o=this;void 0===t&&(t=null);var i=this.redPackFallList.pop();if(!i)return cc.error("fallRedPack not find info"),void t.run();var a=this.rewardTimes.pop(),r=this.mOnTreeRedpack[i.task.id],c=cc.v2(r.x,r.y),l=slot.MainView.instance.getEffectLayer(),p=r.parent.convertToWorldSpaceAR(c);this.mFailRedpackNode||(this.mFailRedpackNode=cc.instantiate(this.redPackOnTree),this.mFailRedpackNode.getChildByName("greenLeaves").removeFromParent(),this.mFailRedpackNode.getChildByName("goldLeaves").removeFromParent()),this.mFailRedpackNode.removeFromParent(),l.addChild(this.mFailRedpackNode),this.mFailRedpackNode.setPosition(l.convertToNodeSpaceAR(p)),this.mFailRedpackNode.zIndex=10,this.mFailRedpackNode.getChildByName("mask").active=!1,r.active=!1;var d=slot.SlotMachineView._instance.scroller.renders[6].convertToWorldSpaceAR(cc.v2()),u=l.convertToNodeSpaceAR(d);this.mFreeGameNode||(this.mFreeGameNode=cc.instantiate(this.pFreeGamePrefab)),this.mFreeGameNode.removeFromParent(),l.addChild(this.mFreeGameNode),this.mFreeGameNode.x=this.mFailRedpackNode.x,this.mFreeGameNode.y=this.mFailRedpackNode.y+50,this.mFreeGameNode.zIndex=10;var f=this.mFreeGameNode.getChildByName("freeTimsTips");cc.find("layout/times",f).getComponent(h.default).string=a.toString();var _=this.mFailRedpackNode.getChildByName("hongbao");_.getComponent(sp.Skeleton).setAnimation(0,"a",!1);var m=this;m.mFailRedpackNode.getChildByName("fx_hongbao11").active=!0,m.mFailRedpackNode.getChildByName("fx_hongbao11").getComponent(cc.ParticleSystem).resetSystem(),m.mFailRedpackNode.getChildByName("fx_kaijiang11").active=!1,m.mFailRedpackNode.getChildByName("fx_kaijiang22").active=!1,m.mFailRedpackNode.getChildByName("fx_xingxing1").active=!1,n.bezierAct(this.mFailRedpackNode,u,.5,100,function(){m.mFailRedpackNode.scale=.9,m.mFailRedpackNode.getChildByName("mask").active=!0,f.active=!0,f.scale=0,m.scheduleOnce(function(){slot.SoundMger.instance.playEffect(s.SOUND_NAME.red_packet_open,!1),m.mFailRedpackNode.getChildByName("fx_hongbao11").active=!1,m.mFailRedpackNode.getChildByName("fx_kaijiang11").active=!0,m.mFailRedpackNode.getChildByName("fx_kaijiang11").getComponent(cc.ParticleSystem).resetSystem(),m.mFailRedpackNode.getChildByName("fx_kaijiang22").active=!0,m.mFailRedpackNode.getChildByName("fx_kaijiang22").getComponent(cc.ParticleSystem).resetSystem(),m.mFailRedpackNode.getChildByName("fx_xingxing1").active=!0,m.mFailRedpackNode.getChildByName("fx_xingxing1").getComponent(cc.ParticleSystem).resetSystem()},1),cc.tween(f).delay(1.3).to(.2,{scale:.6}).start(),cc.tween(m.mFailRedpackNode).delay(1.3).to(.2,{scale:1}).start(),_.getComponent(sp.Skeleton).setAnimation(0,"a_fadein",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(){"a_fadein"==_.getComponent(sp.Skeleton).animation&&m.scheduleOnce(function(){cc.tween(f).delay(.2).to(.2,{scale:.4}).call(function(){f.active=!1,m.mFailRedpackNode.getChildByName("mask").active=!1,m.flyBoomAnim(u,cc.v2(u.x,u.y-550),function(){m.mFailRedpackNode.removeFromParent(),m.mFreeGameNode.removeFromParent(),console.log("fallRedPack:::::::::::::::::::::::::::::::::::::::::::",m.freeTimes,a),0==m.freeTimes?m.freeTimes=a:m.freeTimes+=a,m.showFreeGameTime(!0,m.freeTimes),slot.SoundMger.instance.playEffect(s.SOUND_NAME.free_spin_red_packet_open,!1),slot.SoundMger.instance.playEffect(s.SOUND_NAME.free_spin_red_packet_disappear,!1),o.redPackFallList.length?o.fallRedPack(e,t):(m.refreshRedPackOnTheTree(m.curr_prto.updateList[0].value.handleState.game_1110053.data.taskList),t.run(),o.mIsFalling=!1)},null,.3)}).start(),_.getComponent(sp.Skeleton).setAnimation(0,"a_fadeout",!1)},.5)})})},t.prototype.showFreeGameTime=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=!1),this.freeTimeFrame.active=e,n||this.showMenu(!e),e){1==this.curr_prto.state?slot.SoundMger.instance.playEffect("bezier_effect",!1):2==this.curr_prto.state&&slot.SoundMger.instance.playEffect("free_spin_red_packet_bezier",!1);var o=this.freeTimeFrame.getChildByName("layout"),i=o.getChildByName("leftTime"),a=this.freeTimeFrame.getChildByName("splastTime");t>=1?(i.getComponent("NumAtlasLabel111005301").string=t.toString(),o.active=!0,a.active=!1):(o.active=!1,a.active=!0)}},t.prototype.showMenu=function(e){slot.MainView.instance.node.getChildByName("menu").active=e;var t=slot.MainView.instance.node.getChildByName("gameControPrefab");t.active=e,t.active&&game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED)},t.bezierAct=function(e,t,n,o,i){void 0===i&&(i=null);var a=e.x+(t.x-e.x)/4,s=cc.v2(a,o+e.y+Math.cos(.7853975)*a),r=e.x+(t.x-e.x)/2,c=[s,cc.v2(r,o+e.y+Math.cos(.7853975)*r),cc.v2(t.x,t.y)],l=cc.bezierTo(n,c),p=cc.callFunc(function(){"function"==typeof i&&i()}.bind(this));e.cleanup(),e.runAction(cc.sequence(l,p))},t.prototype._onSpinStop=function(e){slot.SoundMger.instance.playEffect(s.SOUND_NAME["slot_end_scroll_0"+(e+1)],!1);var t=this.scroller.items[e],n=this.getResultData().grid;if(this.mIsNotMoney)slot.SlotMachineView.instance.scroller.items[e].renders.some(function(e){return 9==e.data})&&this.addScatterEffect(e);else{game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_FLUSH_MAIN_BG,e,this.get_data_cfg),t.children.forEach(function(e){e.playOnceWildAnim()});for(var o=this.getColData(e,n),i=0;i<o.length;i++){var a=o[i];if(slot.SlotMachineView._instance.scroller.renders[3*e+i],9==a){this.nScatterCount++,this.nScatterCount<3&&this.scatter(this.nScatterCount),2==this.nScatterCount&&2==e&&(slot.SoundMger.instance.playEffect(s.SOUND_NAME.fast_spin,!1),this.scatterBorderbgIV.active=!0,this.mShowFastBg=!0),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_SCATTER,e),this.addScatterEffect(e);break}}}},t.prototype.getResultData=function(){var e;return this.curr_prto.spinResult?e=this.curr_prto.spinResult:this.curr_prto.state&&this.curr_prto.state.normalData?e=this.curr_prto.state.normalData.spinInfo.spinResult:this.curr_prto.normalData&&(e=this.curr_prto.normalData.spinInfo.spinResult),e},t.prototype.addScatterEffect=function(e){var t=e+1;2==t?this.scatterBorderbgII.active=!0:3==t?this.scatterBorderbgIII.active=!0:4==t&&(this.scatterBorderbgIV.active=!0)},t.prototype.getColData=function(e,t){for(var n=[],o=0;o<3;++o)n[o]=t[3*e+o];return n},t.prototype._onRollingResp=function(e,t){this.mIsNotMoney=!1,this.isFirstLogin=!1,this.mIsAutoMode=slot.SpinManager.instance.isInAuto;var n=t.spinResult.grid;this.hasScatterInCol(n,1)&&this.hasScatterInCol(n,2)&&this.slotMachine.scroller.items.forEach(function(e,t){4==t&&(e.time=e.time-1e3),3==t&&(slot.SpinManager.instance.isInTurbo&&(e.time=e.time+3500),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1))}),this.nAlreadFlyCount=0,this.mBigWinShowIndex=0,this.redPackFallList=[],t.spinResult.grid.length>0&&(this.get_data_cfg=t.spinResult.grid,this.change_gride_data_cfg=t.randomElemPos),this.curr_prto=t,this.checkNeedFlyRedPack(),1==this.curr_prto.state||this.curr_prto.state,2==this.curr_prto.state&&cc.log("\u514d\u8d39\u6e38\u620f\u5f00\u59cb\u65cb\u8f6c\uff0c\u6b21\u6570\u51cf\u4e00\u540e\u5237\u65b0!"),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_FLUSH_GAME_DATA,this.curr_prto)},t.prototype._onSpinStart=function(){var e=slot.SlotUtils.formatNumber(this.curr_gold),t=slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost);Number(e)<Number(t)?game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_CLEAR_SCORE):(this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni(),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_CLEAR_SHEET),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_REMOVE_ALL_NODE),this.stopFullLine())},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_WIN_GAME,s.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype.playFullLine=function(){if(slot.SoundMger.instance.playEffect(s.SOUND_NAME.Five_Of_Kind,!1),this.fiveEvenNode){var e=this.fiveEvenNode.getChildByName("5ofakind");e.stopAllActions(),this.fiveEvenNode.active=!0;var t=this.fiveEvenNode.getChildByName("skeleton").getComponent(sp.Skeleton);e.scale=0,cc.tween(e).to(.2,{scale:1}).delay(1).to(.2,{scale:0}).call(function(){}).start(),t.setAnimation(0,"fraont",!1),t.setAnimation(1,"back",!1),t.setCompleteListener(function(){})}},t.prototype.stopFullLine=function(){this.fiveEvenNode&&(this.fiveEvenNode.active=!1)},t.prototype._playGreatRewardsAnimation=function(e,t){slot.SoundMger.instance.stopEffect("Prize_Big"),slot.SoundMger.instance.playEffect("Prize_Big",!1);var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Great,e,n)},t.prototype._playMiddleRewardsAnimation=function(e,t){slot.SoundMger.instance.playEffect("Prize_Mid",!1);var n=slot.Handler.create(this,function(){t.run(),console.log("\u770b\u770b\u5927\u5956\u8fdb\u6765\u8fd9\u4e2a\u51fd\u6570\u6ca1\u6709")});this.showWinAniView(slot.WinAniType.Middle,e,n)},t.prototype._playSmallRewardsAnimation=function(e,t){slot.SoundMger.instance.playEffect("Prize_Little",!1);var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Small,e,n)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){this.mIsAutoModeFree=this.mIsAutoMode;var o=this.redPackFallList.length;this.chaFen(o,t.times),console.log("\u89e6\u53d1\u514d\u8d39\u6e38\u620f\u5f39\u7a97--",t.times,t.sumTimes),this.fallRedPack(t,n),slot.SoundMger.instance.stopMusic(s.SOUND_NAME.Game_Back_Music),slot.SoundMger.instance.playMusic(s.SOUND_NAME.free_spin_bgm,!0)},t.prototype.onInitFreeGame=function(e,t){switch(e.type){case slot.OperationState.Free:console.log("\u5df2\u7ecf\u77ed\u7ebf\u4ece\u8fde\u4e86\u54e6"),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_START);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(cc.log("\u89e6\u53d1\u514d\u8d39\u6e38\u620f-onFreeGameTriggered,\u5269\u4f59\u6b21\u6570= ",e.times,e.sumTimes),e.type){case slot.OperationState.Free:game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_START);break;case slot.OperationState.ReSpin:}this.scheduleOnce(function(){t.runWith(!0)},.5)},t.prototype.onFreeGameInfoUpdated=function(e){switch(cc.log("\u514d\u8d39\u6e38\u620f\u6b21\u6570\u66f4\u65b0\u4e86-onFreeGameInfoUpdated,\u5269\u4f59\u6b21\u6570= ",e.times,e.sumTimes),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){var n=this;cc.log("\u514d\u8d39\u6e38\u620f\u7ed3\u675f-onFreeGameTriggered,\u5269\u4f59\u6b21\u6570= ",e.times);var o=e.sumSpinCoin;switch(e.type){case slot.OperationState.Free:this.scheduleOnce(function(){if(o>0){var e=slot.Handler.create(n,function(){n.showHash(!0),n.showFreeGameTime(!1),n.updateWinscore("total",o),t.runWith(!0),slot.SoundMger.instance.stopMusic(s.SOUND_NAME.free_spin_bgm),slot.SoundMger.instance.playMusic(s.SOUND_NAME.Game_Back_Music,!0)});n.showHash(!1),game.UIManager.getInstance().open(r.UIID.FREE_GAME_RESULT,[e,o,n.mIsAutoModeFree])}else n.showFreeGameTime(!1),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_OVER),t.runWith(!0),slot.SoundMger.instance.stopMusic(s.SOUND_NAME.free_spin_bgm),slot.SoundMger.instance.playMusic(s.SOUND_NAME.Game_Back_Music,!0)},2);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(e.type){case slot.OperationState.Free:this.mIsFalling=!0;var n=this.redPackFallList.length,o=e.times;this.chaFen(n,o),cc.log("\u8d39\u4e2d\u514d\u8d39 \u5f53\u5c40\u7684\u6570\u636e-onFreeGameTriggerAgain",e,o),this.fallRedPack(e,t);break;case slot.OperationState.ReSpin:}},t.prototype.chaFen=function(e,t){var n,o,i,a=t/e,s=this.is235(a),r=0;this.rewardTimes=[];for(var c=0;c<e;c++)s?this.rewardTimes.push(a):(o=2,2*(i=e-1-c)-5>=(n=e-r)?o=5:2*i-3>=n&&(o=3),this.rewardTimes.push(o),r+=o)},t.prototype.is235=function(e){return 2==e||3==e||5==e},t.prototype.testLog=function(){for(var e="",t=0;t<this.rewardTimes.length;t++)e?e+="_"+this.rewardTimes[t]:e=""+this.rewardTimes[t];console.log("cahfen::::::::::::::::::::::::::::::::::::::"+e)},t.prototype.onFreeGameTimesUpdated=function(e){cc.log("onFreeGameTimesUpdated..........................",e),this.mIsFalling||(this.freeTimes=e,this.showFreeGameTime(!0,e))},t.prototype.onBonusGameTriggered=function(e,t){t.runWith(!0),console.log("onBonusGameTriggered"),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),this.gameID=e.bonusGameId.toNumber(),console.log("caichao============lgid:",Number(this.gameID))},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0),console.log("\u5f39\u6846\u5173\u95ed"),this.hideBounsGamePrefab(),slot.FreeGameManager.instance.hasFreeGame&&this.freeTimes&&this.showFreeGameTime(!0,this.freeTimes,!0),this.showHash(!0)},t.prototype.showHash=function(e){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SHOW_HASH_LABLE,e)},t.prototype.showBounsGameAgain=function(e,t){this.showBounsGamePrefab(t)},t.prototype.showBounsGamePrefab=function(e,t){var n=this;void 0===t&&(t=null),this.showHash(!1),this.mOpenGoodLuck=!0,this.showScroller(!1),this.showMenu(!1),slot.FreeGameManager.instance.hasFreeGame&&this.showFreeGameTime(!1,0,!0),this.currScoreFrame.active=!1,this.labShowWin.active=!1,this.labShowTotalWin.active=!1,this.hideBanner(),this.node.getChildByName("bottombg").active=!1,this.scheduleOnce(function(){var o=cc.instantiate(n.pGoldGame);o.getComponent("GoldGame").initData(e,t),cc.Canvas.instance.node.addChild(o,slot.LayerManage.effect),o.active=!0},.3),this.showTreeRedpack(!1),slot.SoundMger.instance.stopMusic(s.SOUND_NAME.Game_Back_Music),slot.SoundMger.instance.playMusic(s.SOUND_NAME.bonus_bgm,!1,function(){slot.SoundMger.instance.playMusic(s.SOUND_NAME.bonus_bgm_loop)})},t.prototype.showScroller=function(e){var t=e?-422:-1322,n=e?-691:-1591,o=cc.find("scrollerLayer/rollerMask",this.node),i=cc.find("scrollerLayer/scatter_bg_node",this.node);cc.tween(o).to(.2,{y:t}).start(),cc.tween(i).to(.2,{y:n}).start(),this.mTreeNode.y=e?-150:0;var a=e?0:-150;cc.tween(this.mTreeNode).to(.3,{y:a}).start()},t.prototype.hideBounsGamePrefab=function(){11100530101==this.gameID||this.gameID},t.prototype.winAniEnd=function(){if(this.curr_prto.spinResult){slot.SoundMger.instance.stopEffect("Prize_Big"),0==Math.floor(10*Math.random())%2&&slot.SoundMger.instance.playEffect("Prize_End",!1),this.dajiang_state=!0,2==this.curr_prto.state?game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_DAJIANG_END_SORCE_SHOW):game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_PLAY_WIN_NUM,this.curr_prto,this.dajiang_state),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_FLUSH_CURR_SORCE,this.curr_prto.spinResult.spinCoin.low),this.node_ani.stopAllActions(),this.dance(this.nScatterCount+1);var e=this.node.getChildByName("bigwinshuyeparticle");e.active=!0,e.getComponent(cc.ParticleSystem).resetSystem();var t=this.node.getChildByName("bigwintongbiparticle");this.mBigWinShowIndex>=2&&(t.active=!0,t.getComponent(cc.ParticleSystem).resetSystem()),this.scheduleOnce(function(){e.active=!1,t.active=!1},1.1)}},t.prototype.bigWinShow=function(){},t.prototype.hideWin=function(){},t.prototype.hideLastWin=function(){},t.prototype.restWin=function(){slot.SoundMger.instance.playEffect(s.SOUND_NAME.big_win_step)},t.prototype.getNodeByID=function(e){return this.redPack5Pos[e-1]||null},t.prototype.updateWinscore=function(e,t){if(t>0){var n="total"==e||this.mOpenGoodLuck;this.mOpenGoodLuck=!1,this.labShowTotalWin.active=n,this.labShowWin.active=!n,this.labShowWin.active?cc.find("layout/score",this.labShowWin).getComponent(cc.Label).string=slot.SlotUtils.formatNumber(t):cc.find("layout/score",this.labShowTotalWin).getComponent(cc.Label).string=slot.SlotUtils.formatNumber(t),0!=slot.SpinManager.instance.betCost&&slot.SpinManager.instance.betCost;var o=this.currScoreFrame;cc.tween(this.labShowWin).to(.2,{scale:1.2}).to(.2,{scale:1}).call(function(){}).start(),cc.tween(o).to(.2,{scale:1.2}).to(.2,{scale:1}).call(function(){}).start(),this.hideBanner(),this.mStartTip.active=!1}},t.prototype.showTreeRedpack=function(e,t){var n=this;void 0===t&&(t=1),this.scheduleOnce(function(){for(var t,o=1;o<=5;o++)(t=e?n.mShowTreeRedpackFromLuckGame[o.toString()]:n.mOnTreeRedpack[o.toString()])&&(t.active&&!e&&(n.mShowTreeRedpackFromLuckGame[o.toString()]=t),t.active=e);e&&(n.mShowTreeRedpackFromLuckGame={})},t)},t.prototype.playIdel=function(e,t){var n=this.node_ani;n.getComponent(sp.Skeleton).setAnimation(0,e,!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){n.getComponent(sp.Skeleton).animation==e&&n.getComponent(sp.Skeleton).setAnimation(0,t,!0)}),console.log("playIdel-------------------------------- ",e,t)},t.prototype.playDance=function(){console.log("\u4e0d\u5e26\u91d1\u53f6\u821e\u52a8"),this.node_ani.getComponent(sp.Skeleton).setAnimation(0,"tiaowu_idle1",!0)},t.prototype.playDanceII=function(){this.node_ani.getComponent(sp.Skeleton).setAnimation(0,"tiaowu_idle2",!0)},t.prototype.playDanceIII=function(){this.node_ani.getComponent(sp.Skeleton).setAnimation(0,"tiaowu_idle3",!0)},t.prototype.playDanceIV=function(e){void 0===e&&(e=!1);var t=this.node_ani;e?(t.getComponent(sp.Skeleton).setAnimation(0,"bs3",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"bs3"==t.getComponent(sp.Skeleton).animation&&t.getComponent(sp.Skeleton).setAnimation(0,"tiaowu_idle4",!0)})):t.getComponent(sp.Skeleton).setAnimation(0,"tiaowu_idle4",!0)},t.prototype.playScatter=function(){this.node_ani.getComponent(sp.Skeleton).setAnimation(0,"bs1",!1)},t.prototype.playScatterII=function(){this.node_ani.getComponent(sp.Skeleton).setAnimation(0,"bs2",!1)},t.prototype.playScatterIII=function(){this.node_ani.getComponent(sp.Skeleton).setAnimation(0,"bs3",!1)},t.prototype.playClearScatter=function(){var e=this,t=this.node_ani;t.getComponent(sp.Skeleton).setAnimation(0,"bs2-1",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"bs2-1"==t.getComponent(sp.Skeleton).animation&&e.playDance()})},t.prototype.playClearScatterII=function(){var e=this,t=this.node_ani;t.getComponent(sp.Skeleton).setAnimation(0,"bs3-1",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"bs3-1"==t.getComponent(sp.Skeleton).animation&&e.playDance()})},t.prototype.playClearScatterIII=function(){var e=this,t=this.node_ani;t.getComponent(sp.Skeleton).setAnimation(0,"bs4-1",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"bs4-1"==t.getComponent(sp.Skeleton).animation&&e.playDance()})},t.prototype.playBigWin=function(){var e=this.node_ani,t=this.nScatterCount+1,n=t;n>t&&(n=t),1==n?e.getComponent(sp.Skeleton).setAnimation(0,"bigwin1",!0):2==n?e.getComponent(sp.Skeleton).setAnimation(0,"bigwin2",!0):3==n?e.getComponent(sp.Skeleton).setAnimation(0,"bigwin3",!0):4==n&&e.getComponent(sp.Skeleton).setAnimation(0,"bigwin4",!0)},t.prototype.playIdelByScatter=function(e){var t="idle";1==e?t="idle2":2==e?t="idle3":3==e&&(t="idle4"),this.node_ani.getComponent(sp.Skeleton).setAnimation(0,t,!0)},t.prototype.showBanner=function(){this.setNodeBanner(!0),this.labShowTotalWin.active=!1,this.labShowWin.active=!1,this.currScoreFrame.active=!0},t.prototype.hideBanner=function(){this.setNodeBanner(!1)},t.prototype.setNodeBanner=function(e){this.node.getComponent(d.default).setNodeBanner(e)},t.prototype.goodLuckEnd=function(){this.showScroller(!0),this.showMenu(!0),this.currScoreFrame.active=!0,this.node.getChildByName("bottombg").active=!0,this.nScatterCount=0,this.hideScatterBorderbg(),this.freshLeavesSt(this.nScatterCount),this.showTreeRedpack(!0),slot.SoundMger.instance.stopMusic(s.SOUND_NAME.bonus_bgm_loop),slot.SoundMger.instance.playMusic(s.SOUND_NAME.Game_Back_Music,!0)},t.prototype.goodLuckAnim=function(e,t){var n=t.index;0==n||1==n||2==n?this.playShakeTree(n,t.handler):3==n?this.showCoins(60):4==n?this.fallCoins():5==n?this.hideRedPack():6==n?this.showAllRedPack(t.param[0],t.param[1]):7==n&&this.moveRedpackToShakePos()},t.prototype.playShakeTree=function(e,t){void 0===t&&(t=null);var n=this.node_ani.getComponent(sp.Skeleton);0==e?this.isMaxLvAnim(n.animation)?n.setAnimation(0,"idle4",!0):this.playIdel("bs1-4","idle4"):1==e?(n.setAnimation(0,"idle4",!0),n.setAnimation(1,"atk2_1",!1)):2==e&&(n.setAnimation(0,"bs4-1",!1),n.setCompleteListener(function(){"bs4-1"==n.animation&&(n.setAnimation(0,"idle",!0),t&&t.run())}))},t.prototype.showAllRedPack=function(e,t){for(var n=0;n<e.length;n++){var o=cc.instantiate(this.redPack);o.scale=1,o.angle=90,o.parent=this.redPack8Pos[n],o.name="redPack_2",o.opacity=0,this.setRedpackData(o,t[n].reward[0]),cc.tween(o).to(.5,{opacity:255}).call(function(){}).start()}},t.prototype.hideRedPack=function(){for(var e=this,t=0;t<8;++t){var n=this.redPack8Pos[t].getChildByName("redPack_2");n.removeFromParent(),n.destroy()}this.shuffle.node.active=!0,this.scheduleOnce(function(){e.mTreeNode.getChildByName("yaoyiyaolz").active=!0,e.mTreeNode.getChildByName("yaoyiyaolz").getComponent(cc.ParticleSystem).resetSystem(),e.mTreeNode.getChildByName("yaoyiyaolz").getComponent(cc.ParticleSystem).duration=1},.5),this.scheduleOnce(function(){e.shuffle.node.active=!1},1)},t.prototype.setRedpackData=function(e,t){if(0==t.rewardType){var n=t.number.low;e.getComponent(u.default).init(n)}else if(10==t.rewardType){var o=(s=cc.find("bg/numberNode/layout",e)).getChildByName("plus_two"),i=s.getChildByName("plus_three");2==t.number.low?(o.active=!0,i.active=!1):3==t.number.low&&(o.active=!1,i.active=!0),s.active=!0}else if(20==t.rewardType){var a=cc.find("bg/numberNode/luckContinue",e),s=cc.find("bg/numberNode/layout",e);a.active=!0,s.active=!1}},t.prototype.showCoins=function(e){this.coins=[],this.bFallFlag=!1,this.bFallFlags={};for(var t=0;t<e;t++)this.coins[t]=cc.instantiate(this.pCoin),this.coins[t].x=this.coinPos[t].x,this.coins[t].y=this.coinPos[t].y+150,this.coins[t].parent=this.mTreeNode,this.toGround[t]=!1,this.rv[t]=2e3*Math.random(),this.mSpeeds[t]=20+10*Math.random()},t.prototype.fallCoins=function(){var e,t=this;slot.SoundMger.instance.playEffect(s.SOUND_NAME.bonus_tree_shake_coin,!1);for(var n=0;n<this.coins.length;n++){e=this.coins[n];var o=.6*Math.random(),i=50*Math.random();cc.tween(e).to(o,{x:e.x+(e.x>0?i:-i),y:e.y+200*o}).call(function(e){t.bFallFlags[e.uuid]=1}).to(2,{opacity:0},{easing:"sineIn"}).call(function(){}).start()}this.bFallFlag=!0,this.time=0},t.prototype.moveRedpackToShakePos=function(){for(var e=0;e<8;++e){var t=this.redPack8Pos[e].getChildByName("redPack_2"),n=this.shuffle.node.parent.convertToWorldSpaceAR(this.shuffle.node.getPosition()),o=this.redPack8Pos[e].convertToNodeSpaceAR(n),i=t.getChildByName("bg");cc.tween(i).to(.2,{opacity:0}).start(),cc.tween(t).delay(.2).to(.3,{x:o.x,y:o.y}).call(function(){}).start()}},t.prototype.update=function(e){if(this.bFallFlag){this.time=this.time+e;for(var t=void 0,n=0;n<this.coins.length;n++)if((t=this.coins[n])&&this.bFallFlags[t.uuid])if(t.angle+=2,0==this.toGround[n])t.y-=this.time*this.time*50,t.x+=t.x>0?2:-2,t.y<=this.pointY&&(t.y=this.pointY,this.toGround[n]=!0,this.groundTime[n]=this.time);else if(1==this.toGround[n]){var o=this.time-this.groundTime[n];t.y=this.pointY+this.rv[n]*o-2e3*o*o,t.x+=t.x>0?-2:2,t.y<-1e3&&(t.removeFromParent(),t.destroy(),t=null,this.coins[n]=null)}}if(this.mIndex++,this.mIndex%50==0){var i=0;slot.BonusGameManager.instance.hasBonusGame||this.nScatterCount>=3?i=2:this.nScatterCount>=1&&(i=1),this.createLeaf(700*Math.random()-350,200+240*Math.random(),i)}},t.prototype.isMaxLvAnim=function(e){return"idle4"==e||"tiaowu_idle4"==e||"bigwin4"==e||"bs3"==e},t.prototype.createLeaf=function(e,t,n){var o=this.leafPool.get();o||((o=new cc.Node).addComponent(cc.Sprite).spriteFrame=this.mLeaf,o.addComponent(f.default),o.getComponent(f.default).setPoolCtr(this.leafPool),o.scale=.4,o.opacity=150);var i=!0;1==n?i=Math.random()>=.5:2==n&&(i=!1),this.setClor(i),o.color=this.leafClor,o.x=e,o.y=t,this.mTreeNode.addChild(o),Math.random()>=.5&&o.setSiblingIndex(0)},t.prototype.setClor=function(e){e?(this.leafClor.setR(0),this.leafClor.setG(255),this.leafClor.setB(0)):(this.leafClor.setR(210),this.leafClor.setG(173),this.leafClor.setB(59))},t.prototype.showStartBtnParticle=function(e){var t=slot.MainView.instance.node.getChildByName("gameControPrefab").children[0].getChildByName("start_btn").getChildByName("btnBg"),n=t.getChildByName("idleParticle");n||((n=this.startBtnParticle).removeFromParent(),t.addChild(n),n.name="idleParticle",n.x=0,n.y=0),n.active=e},t._instance=null,a([g(cc.Node)],t.prototype,"roller",void 0),a([g([cc.Node])],t.prototype,"redPack5Pos",void 0),a([g([cc.Node])],t.prototype,"redPack8Pos",void 0),a([g(cc.Node)],t.prototype,"fiveEvenNode",void 0),a([g(cc.Prefab)],t.prototype,"redPackOnTree",void 0),a([g(cc.Prefab)],t.prototype,"pGoldGame",void 0),a([g(cc.Prefab)],t.prototype,"pFreeGamePrefab",void 0),a([g(cc.Node)],t.prototype,"rolle_houyi_ani",void 0),a([g(cc.Node)],t.prototype,"node_ani",void 0),a([g(cc.SpriteFrame)],t.prototype,"mLeaf",void 0),a([g(cc.Prefab)],t.prototype,"flyAndExplosion",void 0),a([g(cc.Node)],t.prototype,"mStartTip",void 0),a([g(cc.Node)],t.prototype,"mTreeNode",void 0),a([g(cc.Node)],t.prototype,"pointLight",void 0),a([g(cc.Node)],t.prototype,"freeTimeFrame",void 0),a([g(cc.Node)],t.prototype,"startBtnParticle",void 0),a([g(cc.Sprite)],t.prototype,"shuffle",void 0),a([g(cc.Prefab)],t.prototype,"pCoin",void 0),a([g(cc.Prefab)],t.prototype,"redPack",void 0),n=a([y],t)}(slot.AbstractMainView);n.default=E,cc._RF.pop()},{"../Banner111005301":"Banner111005301","../FallLeaf111005301":"FallLeaf111005301","../GameEventName111005301":"GameEventName111005301","../NumAtlasLabel111005301":"NumAtlasLabel111005301","../RedpackAngleChange111005301":"RedpackAngleChange111005301","../TwScale111005301":"TwScale111005301","../goldGame/RedPack":"RedPack","../main/Main111005301":"Main111005301","./scrollerSkins/JTChildManager111005301":"JTChildManager111005301","./scrollerSkins/JTLayerManager111005301":"JTLayerManager111005301","./scrollerSkins/JTLogicFactroy111005301":"JTLogicFactroy111005301"}],GoldGame:[function(e,t,n){"use strict";cc._RF.push(t,"c97301PMd5DpKU6AP88hBFb","GoldGame");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../NumAtlasLabel111005301"),r=e("../GameEventName111005301"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spBonusGame=null,t.spLuckyTreeShakeTips=null,t.spShakeAgainTips=null,t.spClickTips=null,t.layoutLeftTimes=null,t.skeShake=null,t.spBorder=null,t.spMoneyFrame=null,t.fallMoneyLayout=null,t.numberAtlas=null,t.mNum=null,t.mCurrGold=0,t.shuffle=null,t.particle=null,t.clickRedPack=null,t.flyAndExplosion=null,t.resSke=null,t.inEffeect=null,t.outEffeect=null,t.totalWin=null,t.congratulations=null,t.number=[],t.blurNumber=[],t.getReward=null,t.redLight=null,t.btnSkin=[],t.click_cn="click_cn",t.click_en="click_en",t.fadein_cn="fadein_cn",t.fadein_en="fadein_en",t.hover_cn="hover_cn",t.hover_en="hover_en",t.loop_cn="loop_cn",t.loop_en="loop_en",t.resFadein="",t.resLoop="",t.resHover="",t.resClick="",t.operateIndex=0,t.totalRedPack=[],t.startMoney=0,t.clickRedPackReward=0,t.pointY=-600,t.fallMoney=1,t.preMoney=0,t.counter=0,t.rewardList=[],t.nLeftTimes=0,t.step=1,t.scrollNumberNodes=[],t.srollNumberValues=[],t.numberPath="textures/scrollNumber/num",t.blurNumberPath="textures/scrollNumber/blur",t.numberScaleX=1,t.from=0,t.to=0,t.scrollNumberY=0,t.openRedPack=!1,t.bCanOpenRedPack=!0,t.bIsShowResult=!1,t.bIsLastTime=!1,t.redPackName=null,t.redPackIndex=null,t.mCanShakeClick=!0,t.mCurrStepGold=0,t}return i(t,e),t.prototype.onLoad=function(){"zh"==slot.GData.curLanguage?(this.resFadein=this.fadein_cn,this.resLoop=this.loop_cn,this.resHover=this.hover_cn,this.resClick=this.click_cn):(this.resFadein=this.fadein_en,this.resLoop=this.loop_en,this.resHover=this.hover_en,this.resClick=this.click_en),this.hideEles(),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.actionResp_,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGDATARESP,this.goldGameResp_,this)},t.prototype.hideEles=function(){this.spBonusGame.scale=0,this.spBonusGame.opacity=0,this.skeShake.active=!1,this.spLuckyTreeShakeTips.scale=0,this.spLuckyTreeShakeTips.opacity=0,this.spLuckyTreeShakeTips.active=!0,this.spMoneyFrame.active=!1,this.spShakeAgainTips.scale=0,this.spShakeAgainTips.opacity=0,this.spShakeAgainTips.active=!1,this.spClickTips.scale=0,this.spClickTips.opacity=0,this.spClickTips.active=!1,this.node.getChildByName("spClickTipsBg").active=!1,this.layoutLeftTimes.scale=0,this.layoutLeftTimes.opacity=0,this.layoutLeftTimes.active=!1},t.prototype.onEnable=function(){this.addEventListener(),this.fristSTart()},t.prototype.onDisable=function(){this.removeEventListener()},t.prototype.fristSTart=function(){var e=this;this.hideEles();var t=slot.BonusGameManager.instance.bonusGameInfo;this.totalRedPack=t.rewardList,this.rewardList=t.rewardList,this.operateIndex=t.nowSceneId,this.nLeftTimes=t.quantity,this.mHasHistroy=t.history.length>0,this.fallMoney=this.getHistroyMoney(t),this.mHasHistroy&&(this.openRedPack=!0),1==this.operateIndex&&game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:0}),this.scheduleOnce(function(){var t=1==e.operateIndex?255:0;cc.tween(e.spBonusGame).to(.2,{scale:1,opacity:t}).delay(.5).to(.2,{scale:1.5,opacity:0}).call(function(){e.spBonusGame.active=!1,1==e.operateIndex&&(e.mHasHistroy?game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:6,param:[e.totalRedPack,e.rewardList]}):(game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:3}),slot.SoundMger.instance.playEffect("bonus_shake",!1)))}).start(),cc.tween(e.spBorder).to(.2,{width:756,height:1400,opacity:255}).delay(1).to(.2,{width:846,height:1728,opacity:0}).start()},1),1==this.operateIndex?this.scheduleOnce(function(){cc.tween(e.spLuckyTreeShakeTips).to(.5,{scale:.6,opacity:255},{easing:"sineOutIn"}).call(function(){}).start(),e.showShake(!0)},2):this.freshView()},t.prototype.showShake=function(e,t){var n=this;void 0===t&&(t=0),this.scheduleOnce(function(){if(n.skeShake.active=e,e){n.mCanShakeClick=!0,slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_shake);var t=n.skeShake.getComponent(sp.Skeleton);t.setAnimation(0,n.resFadein,!1),t.setCompleteListener(function(){t.animation==n.resFadein&&t.setAnimation(0,n.resLoop,!0)})}},t)},t.prototype.initData=function(e,t){this.startMoney=e,this.mBonusGameInfo=t},t.prototype.onBtnShake=function(){var e=this;if(1==this.operateIndex&&this.mCanShakeClick){this.mCanShakeClick=!1,this.shakeBtnHoverHide();var t=this.skeShake.getComponent(sp.Skeleton);if(t.setAnimation(0,this.resClick,!1),t.setCompleteListener(function(){t.animation==e.resClick&&(e.skeShake.active=!1)}),slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_packet_shake,!1),this.mHasHistroy){cc.tween(this.spShakeAgainTips).to(.5,{scale:0,opacity:0}).call(function(){e.spShakeAgainTips.active=!1,e.spShakeAgainTips.active=!1}).start();var n=this.node.getChildByName("mask");cc.tween(n).to(.5,{opacity:50}).call(function(){}).start(),this.openRedPack=!0,this.showShuffle(),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:1})},.25)}else this.mFrestReq=!0,this.operate([1])}},t.prototype.onBtnShakeResp=function(){},t.prototype.showGetMoney=function(){var e=this;this.spMoneyFrame.active=!0,this.spMoneyFrame.zIndex=10,this.spMoneyFrame.scale=.5,cc.tween(this.spMoneyFrame).to(.5,{scale:1},{easing:"sineIn"}).call(function(){e.showScrollNumber(e.fallMoneyLayout,1,e.startMoney,e.fallMoney,.5,0,!1)}).start()},t.prototype.showScrollNumber=function(e,t,n,o,i,a,s){var c=this;this.mNum.parent=e,this.mNum.x=0,this.mNum.y=e==this.resSke?-130:0,this.currGold=n,slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_win_loop,!0),cc.tween(this).to(t,{currGold:o}).call(function(){slot.SoundMger.instance.stopEffect(r.SOUND_NAME.bonus_win_loop),slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_win_bounce,!1),c.updateWinScore(),c.showNumbers(e,s)}).start()},t.prototype.showRedLight=function(e){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=this.redLight,t.parent=e,cc.tween(t).to(.2,{scaleX:3}).to(.2,{opacity:0,scaleX:1}).call(function(){t.removeFromParent()}).start()},t.prototype.showNumbers=function(e,t){var n=this;if(this.bIsLastTime=!0,this.showRedLight(e),this.openRedPack){if(t){var o=this.getAginTri();if(o)return void this.endFromAgain(o);this.bIsShowResult?(this.outEffeect.active=!0,this.outEffeect.getComponent(cc.ParticleSystem).duration=1,this.outEffeect.getComponent(cc.ParticleSystem).resetSystem(),this.getReward.active=!0,this.getReward.getChildByName("btnGetReward").on(cc.Node.EventType.TOUCH_END,function(){n.end(!1)},this)):this.scheduleOnce(function(){for(var e=0;e<8;++e)n.node.getChildByName((e+1).toString()).removeFromParent(),n.showLeftTimes(!1),n.spMoneyFrame.active=!1;n.showResult(),n.bIsShowResult=!0},1)}}else this.scheduleOnce(function(){1==n.operateIndex&&(n.spShakeAgainTips.active=!0,cc.tween(n.spShakeAgainTips).to(.5,{scale:.6,opacity:255},{easing:"sineOutIn"}).call(function(){}).start(),n.showShake(!0),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:6,param:[n.totalRedPack,n.rewardList]}),slot.SoundMger.instance.playEffect("bonus_packet_appear",!1))},1)},t.prototype.endFromAgain=function(e){for(var t=this,n=e.result[0],o=0;o<8;++o)o+1!=n&&(this.node.getChildByName((o+1).toString()).active=!1);var i=this.node.getChildByName(n.toString());cc.tween(i).to(.5,{x:0,y:0}).delay(1).call(function(){var e=i.getChildByName("leafEff");e.active=!0,e.getComponent(cc.ParticleSystem).resetSystem(),e.getComponent(cc.ParticleSystem).duration=1,slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_refill_reveal),cc.tween(i.getChildByName("luckContinueNode")).to(.3,{scale:2.2,y:-20}).call(function(){var e=i.getChildByName("luckContinueNode2");e.scale=2.2,e.y=-20,e.opacity=155,e.active=!0,cc.tween(e).to(.2,{scale:2.5,opacity:0}).delay(.3).call(function(){t.end(!0)}).start()}).start()}).start()},t.prototype.end=function(e){this.node.removeFromParent(),e||game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_END),this.next(),this.dispose()},t.prototype.onBonusGameFinished=function(){e.prototype.onBonusGameFinished.call(this)},t.prototype.getAginTri=function(){for(var e=slot.BonusGameManager.instance.bonusGameInfo.history,t=0;t<e.length;t++)if(20==e[t].reward[0].rewardType)return e[t];return null},t.prototype.getHistroy=function(e,t){for(var n=slot.BonusGameManager.instance.bonusGameInfo.history,o=0;o<n.length;o++)if(n[o].result[0]==e&&n[o].sceneId==t)return n[o];return null},t.prototype.onDestroy=function(){},t.prototype.update=function(e){if(this.bFallFlag){this.time=this.time+e;for(var t=0;t<this.coins.length;++t)if(0==this.toGround[t])this.coins[t].y-=this.time*this.time*50,this.coins[t].y<=this.pointY&&(this.coins[t].y=this.pointY,this.toGround[t]=!0,this.groundTime[t]=this.time);else if(1==this.toGround[t]){var n=this.time-this.groundTime[t];this.coins[t].y=this.pointY+this.rv[t]*n-2e3*n*n,this.coins[t].y<-1e3&&this.coins[t].removeFromParent()}}},t.prototype.shakeBtnHoverShow=function(){this.node.getChildByName("skeShakeHover").active=!0},t.prototype.shakeBtnHoverHide=function(){this.node.getChildByName("skeShakeHover").active=!1},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),this.skeShake.getChildByName("btnShake").on(cc.Node.EventType.MOUSE_ENTER,this.shakeBtnHoverShow,this),this.skeShake.getChildByName("btnShake").on(cc.Node.EventType.MOUSE_LEAVE,this.shakeBtnHoverHide,this);var t=this.getReward.getChildByName("btnGetReward");t.on(cc.Node.EventType.MOUSE_ENTER,this.getbtnHover,this),t.on(cc.Node.EventType.MOUSE_LEAVE,this.getbtnLeave,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.actionResp_,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGDATARESP,this.goldGameResp_,this),this.skeShake.getChildByName("btnShake").off(cc.Node.EventType.MOUSE_ENTER,this.shakeBtnHoverShow,this),this.skeShake.getChildByName("btnShake").off(cc.Node.EventType.MOUSE_LEAVE,this.shakeBtnHoverHide,this);var t=this.getReward.getChildByName("btnGetReward");t.off(cc.Node.EventType.MOUSE_ENTER,this.getbtnHover,this),t.off(cc.Node.EventType.MOUSE_LEAVE,this.getbtnLeave,this)},t.prototype.getbtnHover=function(){this.getReward.getComponent(cc.Sprite).spriteFrame=this.btnSkin[1]},t.prototype.getbtnLeave=function(){this.getReward.getComponent(cc.Sprite).spriteFrame=this.btnSkin[0]},t.prototype.actionResp_=function(e,t){var n=this;console.log("\u62db\u8d22\u8fdb\u5b9d\u6e38\u620f\u7684\u64cd\u4f5c\u8fd4\u56de\u7ed3\u679c-------------",t,slot.BonusGameManager.instance.bonusGameInfo),this.operateIndex=t.reward.sceneId,1==this.operateIndex?(this.fallMoney=this.startMoney+t.reward.reward[0].number.low,this.totalRedPack=t.next.rewardList,cc.log("\u91d1\u5e01 = "+this.fallMoney),this.rewardList=t.next.rewardList,this.nLeftTimes=t.next.times,this.mHasHistroy=!0,this.mFrestReq&&(this.mFrestReq=!1,game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:1}),this.showGetMoney(),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:4})},.5),cc.tween(this.spLuckyTreeShakeTips).to(.5,{scale:0,opacity:0}).call(function(){n.spLuckyTreeShakeTips.active=!1,n.spShakeAgainTips.active=!1}).start())):2==this.operateIndex&&(this.nLeftTimes=t.times,0==t.reward.reward[0].rewardType&&(this.clickRedPackReward=t.reward.reward[0].number.low),this.openRedPackEffect(t.reward.reward[0],t.reward.result[0],!1))},t.prototype.freshView=function(){2==this.operateIndex&&(this.showGetMoney(),this.createRedPacks(),this.showLeftTimes(!0))},t.prototype.getHistroyMoney=function(e){for(var t=this.startMoney,n=e.history,o=0;o<n.length;o++)1!=n[o].sceneId&&0!=n[o].reward[0].rewardType||(t+=n[o].reward[0].number.low);return t},t.prototype.showShuffle=function(){var e=this;game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:7}),slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_angpow_shuffle,!1),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:5})},.5),this.scheduleOnce(function(){e.particle.active=!0,e.particle.getComponent(cc.ParticleSystem).duration=1,e.createRedPacks()},1),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_GOODLUCK_ANIM,{index:2}),e.scheduleOnce(function(){e.showLeftTimes(!0)},2)},1.6)},t.prototype.showLeftTimes=function(e){this.layoutLeftTimes.active=e,this.spClickTips.active=e,this.node.getChildByName("spClickTipsBg").active=e,e&&(this.layoutLeftTimes.getChildByName("adw").getChildByName("timesNumber").getComponent("NumAtlasLabel111005301").string=this.nLeftTimes.toString(),cc.tween(this.spClickTips).to(.2,{scale:.6,opacity:255}).call(function(){}).start(),cc.tween(this.layoutLeftTimes).to(.2,{scale:.6,opacity:255}).call(function(){}).start())},t.prototype.createRedPacks=function(){for(var e,t=this.shuffle.node.parent.convertToWorldSpaceAR(this.shuffle.node.getPosition()),n=this.node.convertToNodeSpaceAR(t),o=[],i=0;i<8;i++){var a=i%4*180-270,s=410-244*Math.trunc(i/4);o[i]=cc.v2(a,s)}for(i=0;i<this.totalRedPack.length;i++){e=this.totalRedPack[i];var r=cc.instantiate(this.clickRedPack);r.parent=this.node;var c=r.getChildByName("btn");r.zIndex=10,r.setPosition(n),r.name=e.index.toString(),c.index=e.index;var l=this.getHistroy(e.index,2);l&&this.openRedPackEffect(l.reward[0],l.result[0],!0),c.on(cc.Node.EventType.TOUCH_END,this.onClick,this),c.on(cc.Node.EventType.MOUSE_ENTER,this.onHonver,this),c.on(cc.Node.EventType.MOUSE_LEAVE,this.onLeave,this),cc.tween(r).to(.5,{x:o[i].x,y:o[i].y}).call(function(){}).start()}},t.prototype.onClick=function(e){if(!this.bCanOpenRedPack)return!1;this.bCanOpenRedPack=!1,this.redPackIndex=e.target.index,cc.log("index = "+this.redPackIndex),this.redPackName=this.redPackIndex.toString(),this.operate([this.redPackIndex]),e.target.active=!1,this.showHoverEff(e.target.parent,!1)},t.prototype.onHonver=function(e){this.showHoverEff(e.target.parent,!0)},t.prototype.onLeave=function(e){this.showHoverEff(e.target.parent,!1)},t.prototype.showHoverEff=function(e,t){e.getChildByName("angbao_frame").active=t},t.prototype.openRedPackEffect=function(e,t,n){var o=this,i=this.node.getChildByName(t.toString()),a=i.getChildByName("redPackske").getComponent(sp.Skeleton);a.setAnimation(0,"a_open",!1);var c=e.rewardType;if(slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_packet_open,!1),!n){var l=i.getChildByName("juji");l.active=!0,l.getComponent(cc.ParticleSystem).duration=1,this.scheduleOnce(function(){if(l.active=!1,0==c||10==c){var e=i.getPosition().x,t=i.getPosition().y+50;o.addFlyAndExplosion(cc.v2(e,t),c)}else if(o.nLeftTimes<=0){var n=o.getAginTri();n&&o.endFromAgain(n)}},1.5)}a.setCompleteListener(function(){if("a_open"==a.animation){i.opacity=192;var t=i.getChildByName("leafEff");if(t.active=!0,t.getComponent(cc.ParticleSystem).resetSystem(),t.getComponent(cc.ParticleSystem).duration=.6,0==c){var n=i.getChildByName("number");n.getComponent(s.default).offScale=.4;var l=slot.SlotUtils.formatNumber(e.number.low);n.getComponent("NumAtlasLabel111005301").string=l,n.opacity=0,n.active=!0,cc.tween(n).to(.5,{opacity:225}).call(function(){}).start()}else if(10==c){var p=e.number.low;2==p?i.getChildByName("layout").getChildByName("plus_two").active=!0:3==p&&(i.getChildByName("layout").getChildByName("plus_three").active=!0),i.getChildByName("layout").active=!0}else if(20==c){var h=i.getChildByName("luckContinueNode").getChildByName("luckContinue");h.y=0,h.scale=0,h.opacity=0,h.active=!0,cc.tween(h).to(.5,{y:25,scale:.9,opacity:255}).start();var d=i.getChildByName("luckContinueNode").getChildByName("xiaoshu");d.active=!0;var u=d.getComponent(sp.Skeleton);u.setAnimation(0,"fadein",!1),u.setCompleteListener(function(){"fadein"==u.animation&&u.setAnimation(0,"loop",!0)}),o.bCanOpenRedPack=!0,slot.SoundMger.instance.playEffect(r.SOUND_NAME.bonus_refill_anim)}o.layoutLeftTimes.getChildByName("adw").getChildByName("timesNumber").getComponent("NumAtlasLabel111005301").string=o.nLeftTimes.toString()}})},t.prototype.addFlyAndExplosion=function(e,t){var n=this,o=cc.instantiate(this.flyAndExplosion);o.parent=this.node,o.zIndex=11,o.setPosition(e);var i=o.getChildByName("fly"),a=i.getChildByName("fx_xingxing"),s=i.getChildByName("fx_kaijiang1");a.getComponent(cc.ParticleSystem).duration=1,s.getComponent(cc.ParticleSystem).duration=1;var r=o.getChildByName("explosion"),c=r.getChildByName("fx_xingxing"),l=r.getChildByName("fx_kaijiang1");c.getComponent(cc.ParticleSystem).duration=1,l.getComponent(cc.ParticleSystem).duration=1;var p=this.spMoneyFrame.getPosition();10==t&&(p=this.layoutLeftTimes.getPosition()),this.bezierAct(o,p,.5,100,function(){n.bCanOpenRedPack=!0,n.scheduleOnce(function(){o.removeFromParent()},1),10==t||(n.preMoney=n.fallMoney,n.fallMoney=n.fallMoney+n.clickRedPackReward,n.showScrollNumber(n.fallMoneyLayout,1,n.preMoney,n.fallMoney,.5,0,n.nLeftTimes<=0))})},t.prototype.showResult=function(){var e=this;this.inEffeect.active=!0,this.inEffeect.getComponent(cc.ParticleSystem).duration=2,this.inEffeect.getComponent(cc.ParticleSystem).resetSystem();var t=this.node.getChildByName("shexianparticle");t.getComponent(cc.ParticleSystem).custom=!0,t.active=!0,this.node.getChildByName("shangjinstar1").active=!0,this.resSke.active=!0,this.totalWin.active=!0,this.congratulations.active=!0;var n=this.resSke.getComponent(sp.Skeleton);n.setAnimation(0,"fadein",!1),n.setCompleteListener(function(){"fadein"==n.animation&&n.setAnimation(0,"loop",!0)}),this.showScrollNumber(this.resSke,2,0,this.fallMoney,.5,-150,!0),this.scheduleOnce(function(){e.node&&e.node.parent&&e.end(!1)},7)},t.prototype.goldGameResp_=function(){},t.prototype.bezierAct=function(e,t,n,o,i){void 0===i&&(i=null);var a=e.x+(t.x-e.x)/4,s=(cc.v2(a,o+e.y+Math.cos(.7853975)*a),e.x+(t.x-e.x)/2),r=(cc.v2(s,o+e.y+Math.cos(.7853975)*s),cc.v2(t.x,e.y+500)),c=[e.getPosition(),r,t],l=cc.bezierTo(n,c),p=cc.callFunc(function(){"function"==typeof i&&i()}.bind(this));e.runAction(cc.sequence(l,p))},t.prototype.updateWinScore=function(){var e=slot.PlayerManager.instance.showCoin+this.fallMoney;this.nLeftTimes<=0&&(e=slot.PlayerManager.instance.showCoin),slot.ScoreBase.instance.winScoreNum=this.fallMoney,slot.ScoreBase.instance.allScoreNum=e},t.prototype.removeSelf=function(){this.node.removeFromParent()},Object.defineProperty(t.prototype,"currGold",{get:function(){return this.mCurrGold},set:function(e){this.mCurrGold=Math.round(e),this.mNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(this.mCurrGold)},enumerable:!1,configurable:!0}),a([p(cc.Node)],t.prototype,"spBonusGame",void 0),a([p(cc.Node)],t.prototype,"spLuckyTreeShakeTips",void 0),a([p(cc.Node)],t.prototype,"spShakeAgainTips",void 0),a([p(cc.Node)],t.prototype,"spClickTips",void 0),a([p(cc.Node)],t.prototype,"layoutLeftTimes",void 0),a([p(cc.Node)],t.prototype,"skeShake",void 0),a([p(cc.Node)],t.prototype,"spBorder",void 0),a([p(cc.Node)],t.prototype,"spMoneyFrame",void 0),a([p(cc.Node)],t.prototype,"fallMoneyLayout",void 0),a([p(cc.SpriteAtlas)],t.prototype,"numberAtlas",void 0),a([p(cc.Node)],t.prototype,"mNum",void 0),a([p(cc.Sprite)],t.prototype,"shuffle",void 0),a([p(cc.Node)],t.prototype,"particle",void 0),a([p(cc.Prefab)],t.prototype,"clickRedPack",void 0),a([p(cc.Prefab)],t.prototype,"flyAndExplosion",void 0),a([p(cc.Node)],t.prototype,"resSke",void 0),a([p(cc.Node)],t.prototype,"inEffeect",void 0),a([p(cc.Node)],t.prototype,"outEffeect",void 0),a([p(cc.Node)],t.prototype,"totalWin",void 0),a([p(cc.Node)],t.prototype,"congratulations",void 0),a([p([cc.SpriteFrame])],t.prototype,"number",void 0),a([p([cc.SpriteFrame])],t.prototype,"blurNumber",void 0),a([p(cc.Node)],t.prototype,"getReward",void 0),a([p(cc.SpriteFrame)],t.prototype,"redLight",void 0),a([p([cc.SpriteFrame])],t.prototype,"btnSkin",void 0),a([l],t)}(slot.AbstractBonusGameView);n.default=h,cc._RF.pop()},{"../GameEventName111005301":"GameEventName111005301","../NumAtlasLabel111005301":"NumAtlasLabel111005301"}],JTChildManager111005301:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111005301"),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=s,cc._RF.pop()},{"../SpinSlotViewExtend111005301":"SpinSlotViewExtend111005301"}],JTCollectTask111005301:[function(e,t,n){"use strict";cc._RF.push(t,"3762bUMFktBjbxEEGuty4Vc","JTCollectTask111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../GameEventName111005301"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(s.EventName.EVENT_GUNZHOU_END_EVENT)},a([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111005301":"GameEventName111005301"}],JTLayerManager111005301:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameLayer111005301"),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var o=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,o),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var i=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e);var s=this.addChildNode(t.FRAME_IMAGE_CONTAINER,e);a.default.instance.jianEffecLayer=s,this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),o.launch(e),i.setup(e.config.getWidth(),e.config.getHeight(),20),n.setup(e.config.getWidth(),e.config.getHeight(),20)},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=s,cc._RF.pop()},{"../GameLayer111005301":"GameLayer111005301"}],JTLogicFactroy111005301:[function(e,t,n){"use strict";cc._RF.push(t,"63a77XfD3lEFKTzsS6apOnr","JTLogicFactroy111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./JTTask111005301"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(s.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTTask111005301":"JTTask111005301"}],JTTask111005301:[function(e,t,n){"use strict";cc._RF.push(t,"c71aaTAHcZO1bUu9Bhsy/L6","JTTask111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../GameEventName111005301"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(s.EventName.EVENT_COMPLAY_SHOOT)},a([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111005301":"GameEventName111005301"}],LanScaleRize111005301:[function(e,t,n){"use strict";cc._RF.push(t,"ef34aXfxJZOTpt82MA0mq4A","LanScaleRize111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.default=1,t.da=0,t.de=0,t.en=0,t.es=0,t.fi=0,t.fr=0,t.id=0,t.it=0,t.ja=0,t.ko=0,t.nl=0,t.no=0,t.pl=0,t.pt=0,t.ro=0,t.ru=0,t.sv=0,t.th=0,t.tr=0,t.vi=0,t.zh=0,t}return i(t,e),t.prototype.onEnable=function(){var e=this.getScale();this.node.scale=e},t.prototype.getScale=function(){var e=this.default;switch(slot.GData.curLanguage){case"da":0!=this.da&&(e=this.da);break;case"de":0!=this.de&&(e=this.de);break;case"en":0!=this.en&&(e=this.en);break;case"es":0!=this.es&&(e=this.es);break;case"fi":0!=this.fi&&(e=this.fi);break;case"fr":0!=this.fr&&(e=this.fr);break;case"id":0!=this.id&&(e=this.id);break;case"it":0!=this.it&&(e=this.it);break;case"ja":0!=this.ja&&(e=this.ja);break;case"ko":0!=this.ko&&(e=this.ko);break;case"nl":0!=this.nl&&(e=this.nl);break;case"no":0!=this.no&&(e=this.no);break;case"pl":0!=this.pl&&(e=this.pl);break;case"pt":0!=this.pt&&(e=this.pt);break;case"ro":0!=this.ro&&(e=this.ro);break;case"ru":0!=this.ru&&(e=this.ru);break;case"sv":0!=this.sv&&(e=this.sv);break;case"th":0!=this.th&&(e=this.th);break;case"tr":0!=this.tr&&(e=this.tr);break;case"vi":0!=this.vi&&(e=this.vi);break;case"zh":0!=this.zh&&(e=this.zh)}return e},a([c],t.prototype,"default",void 0),a([c],t.prototype,"da",void 0),a([c],t.prototype,"de",void 0),a([c],t.prototype,"en",void 0),a([c],t.prototype,"es",void 0),a([c],t.prototype,"fi",void 0),a([c],t.prototype,"fr",void 0),a([c],t.prototype,"id",void 0),a([c],t.prototype,"it",void 0),a([c],t.prototype,"ja",void 0),a([c],t.prototype,"ko",void 0),a([c],t.prototype,"nl",void 0),a([c],t.prototype,"no",void 0),a([c],t.prototype,"pl",void 0),a([c],t.prototype,"pt",void 0),a([c],t.prototype,"ro",void 0),a([c],t.prototype,"ru",void 0),a([c],t.prototype,"sv",void 0),a([c],t.prototype,"th",void 0),a([c],t.prototype,"tr",void 0),a([c],t.prototype,"vi",void 0),a([c],t.prototype,"zh",void 0),a([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],LanguageInfo111005301:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([r],t)}(game.LanguageComp));n.default=c,cc._RF.pop()},{}],LanguageInfoBase1110050301:[function(e,t,n){"use strict";cc._RF.push(t,"16ff58zz4dFtJtMipKq34Zd","LanguageInfoBase1110050301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},a([r],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111005301:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111005301");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var r,c=e("../roller/WinAnimanager111006501"),l=cc._decorator,p=l.ccclass,h=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},s([p],t)}(slot.MainView));n.default=h,function(e){e[e.BONUS_GAME_GOLDGAME=1e4]="BONUS_GAME_GOLDGAME",e[e.FREE_GAME_RESULT=10001]="FREE_GAME_RESULT"}(r=n.UIID||(n.UIID={})),n.UICF=((i={})[r.BONUS_GAME_GOLDGAME]={bundleName:"game_111005301",path:"prefabs/goldGame/goldGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[r.FREE_GAME_RESULT]={bundleName:"game_111005301",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"../roller/WinAnimanager111006501":"WinAnimanager111006501"}],NumAtlasLabel111005301:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([r],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],RedPack:[function(e,t,n){"use strict";cc._RF.push(t,"bcffdOKWCNOTpm+g1rNUwhx","RedPack");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numberNode=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.init=function(e){this.numberNode.getComponent("NumAtlasLabel111005301").string=slot.SlotUtils.formatNumber(e),this.numberNode.getComponent("NumAtlasLabel111005301").offScale=.6},a([c(cc.Node)],t.prototype,"numberNode",void 0),a([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],RedpackAngleChange111005301:[function(e,t,n){"use strict";cc._RF.push(t,"9ace0Ldqo1GIKc2JNC3C5bO","RedpackAngleChange111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){var t=e.call(this)||this;return t.startAngle=90,t.maxAgnle=100,t.minAngke=80,t.step=.2,t}return i(t,e),t.prototype.onEnable=function(){this.node.angle=this.startAngle,this.step=Math.abs(this.step)},t.prototype.update=function(){this.node.angle+=this.step,(this.node.angle>=this.maxAgnle||this.node.angle<=this.minAngke)&&(this.step*=-1)},a([r],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],SpinSlotViewExtend111005301:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005301"),s=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,t}return i(t,e),t.prototype.reset=function(){this.mIsPlay=!1,8==this.data&&this.mIsSetOtherIcon?this.mIsSetOtherIcon=!1:(e.prototype.reset.call(this),this.adjustItemScale(this.data),this.isFristLogin()&&this.changeRedpackIcon())},t.prototype.isFristLogin=function(){return slot.SlotMachineView.instance.gameLayer.isFirstLogin},t.prototype.gotoAndStop=function(t){if(8==this.data){if(this.mIsSetOtherIcon2)return void(this.mIsSetOtherIcon2=!1)}else if(10==this.data&&this.mIsFromOnceWild)return void this.setIcon("wild");e.prototype.gotoAndStop.call(this,t),8==this.data&&.8==this.skinLoader.spriteNode.scale?this.setIcon("hongbao"):this.skinLoader.spriteNode.scale=1},t.prototype.onPlayAnimation=function(){1==this.data?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"j"):2==this.data?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"q"):3==this.data?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"k"):4==this.data?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"a"):5==this.data||6==this.data||7==this.data||8==this.data?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"):9==this.data||this.data,this.adjustItemScale(this.data,0),this.adjustItemScale(this.data,50),9!=this.data&&this._showFrameAniView(),this.mIsPlay=!0},t.prototype.adjustItemScale=function(e,t){var n=this;void 0===t&&(t=0);var o=.5;return 1==e||2==e||3==e||4==e?o=1.5:5==e||6==e||7==e||11==e?o=.5:8==e?o=.4:9!=e&&10!=e||(o=1),setTimeout(function(){n.skinLoader.skeletonNode.scale=o},t),o},t.prototype.onRollEnd=function(){var e=this;if(this.adjustItemScale(this.data),9==this.data){slot.SoundMger.instance.playEffect(a.SOUND_NAME.scatter_icon,!1),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"yaoyiyao");var t=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);t.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME),t.setCompleteListener(function(){t.clearTracks(),t.setCompleteListener(null),e.gotoAndStop(0)}),cc.tween(this.skinLoader.skeletonNode).to(.2,{scale:1.2}).delay(.6).to(.2,{scale:1}).start()}},t.prototype.onPlayIdleAnimaition=function(){this.data},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){},t.prototype._showFrameAniView=function(){this._slotFrameAniView||(this._slotFrameAniView=this._getSlotFrameAniView()),this._slotFrameAniView.setScale(1.2),this._slotFrameAniView.active=!0,this.addEffectNode(this._slotFrameAniView,!1),this._slotFrameAniView.x=0,this._slotFrameAniView.y=0},t.prototype._getSlotFrameAniView=function(){if(this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node;var e=this._slotFrameAniView.addComponent(slot.AnimationExtend),t=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/win/win",slot.GData.bundleName,"loop");return e.init(t),e.play("loop",!0),this._slotFrameAniView},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},t.prototype.playOnceRadPackAnim=function(){var e=this;if(this.adjustItemScale(this.data),8==this.data&&!this.mIsPlay){this.changeRedpackIcon(),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!1);var t=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);setTimeout(function(){e.adjustItemScale(e.data)},50),t.loop=!1,t.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME),slot.SoundMger.instance.playEffect(a.SOUND_NAME.red_packet_charging)}},t.prototype.playOnceWildAnim=function(){var e=this;if(this.adjustItemScale(this.data),10==this.data&&!this.mIsPlay){var t=!1,n=this;this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"baida");var o=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);o.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME),o.setCompleteListener(function(){10==n.data&&(n.mIsFromOnceWild=!0,n.gotoAndStop(0),e.mIsFromOnceWild=!1),t=!0}),setTimeout(function(){10!=n.data||t||(n.mIsFromOnceWild=!0,n.gotoAndStop(0),n.mIsFromOnceWild=!1)},2e3)}},t.prototype.clearSetOtherIconSt=function(){this.mIsSetOtherIcon=!1,this.mIsSetOtherIcon2=!1},t.prototype.changeRedpackIcon=function(){8==this.data&&(this.setIcon("hongbao"),this.skinLoader.spriteNode.scale=.8)},t._rewardsView=null,t}(slot.SpinSlotView);n.default=s,cc._RF.pop()},{"../GameEventName111005301":"GameEventName111005301"}],StartTip111005301:[function(e,t,n){"use strict";cc._RF.push(t,"36bf9G3bZBCqo+rhc41ouA4","StartTip111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){var e=this;this.scheduleOnce(function(){e.mW=40*e.label.getComponent(cc.Label).string.length,e.mW>420&&(e.mStartX=(e.mW-420)/2,e.label.x=e.mStartX,e.mIsMoving=!0)},1)},t.prototype.update=function(){this.mIsMoving&&(this.label.x--,this.label.x<-this.mStartX&&(this.label.x=this.mStartX))},a([c(cc.Node)],t.prototype,"label",void 0),a([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],TwScale111005301:[function(e,t,n){"use strict";cc._RF.push(t,"41dc5rh2bJBUI3G4fD6hdL7","TwScale111005301");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=e.call(this)||this;return t.fristScaleX=1,t.fristScaleY=1,t.twScaleX=1.2,t.twScaleY=1.2,t.time=.5,t}return i(t,e),t.prototype.tw=function(){this.node.scaleX=this.fristScaleX,this.node.scaleY=this.fristScaleY,cc.tween(this.node).to(this.time,{scaleX:this.twScaleX,scaleY:this.twScaleY}).start()},t.prototype.onEnable=function(){this.tw(),this.schedule(this.tw,this.time+.02)},t.prototype.onDisable=function(){this.unschedule(this.tw)},a([c()],t.prototype,"fristScaleX",void 0),a([c()],t.prototype,"fristScaleY",void 0),a([c()],t.prototype,"twScaleX",void 0),a([c()],t.prototype,"twScaleY",void 0),a([c()],t.prototype,"time",void 0),a([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],WinAnimanager111006501:[function(e,t,n){"use strict";cc._RF.push(t,"ac774tkacVKyo+nInQDNbHm","WinAnimanager111006501");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bShake=!1,t.bFlash=!1,t}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.playWinTextFadeIn=function(e,t){e.x,this.playShake(),this.playWinFlash();var n=this.winCoinLabel.node.parent;return"cusCoin"!=n.name&&((n=new cc.Node("cusCoin")).parent=this.node,n.setPosition(0,90),this.winCoinLabel.node.parent=n),t>slot.WinAniType.Small&&(this.playSc(n),this.playSc(e)),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,e),e.getSiblingIndex(),null},t.prototype.playSc=function(e){cc.tween(e).to(.1,{scale:1.3}).to(.2,{scale:0}).to(.2,{scale:1}).start()},t.prototype.playWinFlash=function(){this.bFlash||(this.bFlash=!0,this.winTextLayer.children.forEach(function(e){var t=cc.instantiate(e);t.parent=e,t.active=!0,t.setPosition(0,0),t.scale=1,t.getComponent(cc.Sprite).dstBlendFactor=cc.macro.ONE,cc.tween(t).to(.3,{scale:1.3,opacity:0}).delay(.2).set({scale:1,opacity:255}).union().repeatForever().start()}))},t.prototype.playShake=function(e,t){void 0===e&&(e=.3),void 0===t&&(t=.02),this.bShake||(this.bShake=!0,cc.tween(this.winCoinLabel.node).by(t,{x:0*e,y:7*e}).by(t,{x:0*e,y:-2*e}).by(t,{x:0*e,y:3*e}).by(t,{x:0*e,y:-10*e}).by(t,{x:0*e,y:10*e}).by(t,{x:0*e,y:-12*e}).by(t,{x:0*e,y:12*e}).by(t,{x:0*e,y:-10*e}).by(t,{x:0*e,y:2*e}).union().repeatForever().start())},t.prototype.updateCoinLabel=function(e){e=e.replace(/(,|\.)(\d+)$/i,function(e){return e.split("").map(function(e,t){return t>0?String.fromCharCode(e.charCodeAt(0)+49):e}).join("")}),this.winCoinLabel.string=e},t.prototype.onStageChange=function(){},t.prototype.stopCoin=function(){this.bFlash=!1,this.bShake=!1;var e=this.winCoinLabel.string.replace(/(\.|,)([a-z]+)$/,function(e){return e.split("").map(function(e,t){return t>0?String.fromCharCode(e.charCodeAt(0)-49):e}).join("")});this.winCoinLabel.string=e,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END)},t.prototype.onPlayFinalAnimation=function(){this.stopCoin()},t.prototype.onCoinIncreaseEnd=function(){this.stopCoin()},a([r],t)}(slot.WinAniManager));n.default=c,cc._RF.pop()},{}]},{},["Banner111005301","FallLeaf111005301","FreegameNumLabel111005301","GameEventName111005301","LanScaleRize111005301","NumAtlasLabel111005301","RedpackAngleChange111005301","StartTip111005301","TwScale111005301","BonusGame111005301","FreeGameResult111005301","GameBg111005301","Coin","GoldGame","RedPack","CommonNumAtlas111005301","LanguageInfo111005301","LanguageInfoBase1110050301","Main111005301","GameLayer111005301","SpinSlotViewExtend111005301","WinAnimanager111006501","Cannon","JTChildManager111005301","JTCollectTask111005301","JTLayerManager111005301","JTLogicFactroy111005301","JTTask111005301"]);